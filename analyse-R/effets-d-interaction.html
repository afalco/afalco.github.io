<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="fr" xml:lang="fr">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Effets d’interaction dans un modèle</title>

<script src="libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/paper.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="libs/navigation-1.1/tabsets.js"></script>
<link href="libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="libs/pagedtable-1.1/js/pagedtable.js"></script>
<meta name="robots" content="index, follow">
<link rel="stylesheet" href="./include/analyse-R.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script>
<script type="text/javascript" src="./libs/bigfoot-2.1.4/bigfoot.min.js"></script>
<link rel="stylesheet" href="./libs/bigfoot-2.1.4/bigfoot-number.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<link rel="stylesheet" href="./libs/colorbox-1.6.1/colorbox.css" />
<script type="text/javascript" src="./libs/colorbox-1.6.1/jquery.colorbox-min.js"></script>
<!--- favicon --->
<link rel="apple-touch-icon" sizes="57x57" href="./images/favicon/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="./images/favicon/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="./images/favicon/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="./images/favicon/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="./images/favicon/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="./images/favicon/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="./images/favicon/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="./images/favicon/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="./images/favicon/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="./images/favicon/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="./images/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="./images/favicon/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="./images/favicon/favicon-16x16.png">
<link rel="manifest" href="./images/favicon/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="./images/favicon/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-121727005-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-121727005-1');
</script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' || rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">



<nav>
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href=".">analyse-R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
          <a href="manipuler" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Manipuler <span class="caret"></span></a>
          <ul class="dropdown-menu multi-column columns-3" role="menu" id="menu_manipuler">
            <div class="row">
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
  		            <li class="dropdown-header">Prise en main</li>
                  <li><a href="presentation-et-philosophie.html">Présentation et Philosophie</a></li>
                  <li><a href="installation-de-R-et-RStudio.html">Installation de <strong>R</strong> et <strong>RStudio</strong></a></li>
                  <li><a href="premier-contact.html">Premier contact</a></li>
                  <li><a href="premier-travail-avec-les-donnees.html">Premier travail avec des données</a></li>
                  <li><a href="extensions.html">Extensions (installation, mise à jour)</a></li>
                  <li><a href="introduction-au-tidyverse.html">Introduction au <strong>tidyverse</strong></a></li>
                  <li><a href="vecteurs-indexation-et-assignation.html">Vecteurs, indexation et assignation</a></li>
                  <li><a href="listes-et-tableaux-de-donnes.html">Listes et Tableaux de données</a></li>
                  <li><a href="facteurs-et-vecteurs-labellises.html">Facteurs et vecteurs labellisés</a></li>
                  <li><a href="organiser-ses-fichiers.html">Organiser ses fichiers</a></li>
                  <li><a href="import-de-donnees.html">Import de données</a></li>
                  <li><a href="ou-trouver-de-l-aide.html">Où trouver de l'aide ?</a></li>
  	            </ul>
              </div>
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
  		            <li class="dropdown-header">Manipulation de données</li>
  		            <li><a href="visualiser-ses-donnees.html">Visualiser ses données</a></li>
  		            <li><a href="recodage.html">Recodage de variables</a></li>
                  <li><a href="manipuler-les-donnees-avec-dplyr.html">Manipuler les données avec <strong>dplyr</strong></a></li>
                  <li><a href="manipulations-avancees-avec-data-table.html">Manipulations avancées avec <strong>data.table</strong></a></li>
                  <li><a href="tris.html">Tris</a></li>
                  <li><a href="sous-ensembles.html">Sous-ensembles</a></li>
                  <li><a href="fusion-de-tables.html">Fusion de tables</a></li>
                  <li><a href="gestion-des-dates.html">Gestion des dates</a></li>
                  <li><a href="fonctions-a-fenetre.html">Fonctions à fenêtre</a></li>
                  <li><a href="manipuler-du-texte.html">Manipuler du texte avec <strong>stringr</strong></a></li>
                  <li><a href="reorganiser-ses-donnees-avec-tidyr.html">Réorganiser ses données avec <strong>tidyr</strong></a></li>
                  <li><a href="scraping.html">Scraping</a></li>
  	            </ul>
              </div>
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
                  <li class="dropdown-header">Exporter</li>
                  <li><a href="export-de-donnees.html">Export de données</a></li>
                  <li><a href="export-de-graphiques.html">Export de graphiques</a></li>
  	            </ul>
              </div>
            </div>
          </ul>
        </li>
        <li class="dropdown">
          <a href="analyser" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Analyser <span class="caret"></span></a>
          <ul class="dropdown-menu multi-column columns-3" role="menu" id="menu_analyser">
            <div class="row">
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
  		            <li class="dropdown-header">Statistiques introductives</li>
                  <li><a href="statistique-univariee.html">Statistique univariée</a></li>
                  <li><a href="statistique-bivariee.html">Statistique bivariée</a></li>
                  <li><a href="intro-ggplot2.html">Introduction à <strong>ggplot2</strong>, la grammaire des graphiques</a></li>
                  <li><a href="graphiques-bivaries-ggplot2.html">Graphiques univariés et bivariés avec <strong>ggplot2</strong></a></li>
                  <li><a href="donnees-ponderees.html">Données pondérées</a></li>
  	            </ul>
              </div>
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
  		            <li class="dropdown-header">Statistiques intermédiaires</li>
  		            <li><a href="intervalles-de-confiance.html">Intervalles de confiance</a></li>
                  <li><a href="comparaisons-moyennes-et-proportions.html">Comparaisons (moyennes et proportions)</a></li>
                  <li><a href="definir-un-plan-d-echantillonnage-complexe.html">Définir un plan d'échantillonnage complexe</a></li>
                  <li><a href="regression-lineaire.html">Régression linéaire</a></li>
                  <li><a href="regression-logistique.html">Régression logistique binaire, multinomiale et ordinale</a></li>
                  <li><a href="analyse-des-correspondances-multiples.html">Analyse des correspondances multiples (ACM)</a></li>
                  <li><a href="classification-ascendante-hierarchique.html">Classification ascendante hiérarchique (CAH)</a></li>
  	            </ul>
              </div>
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
                  <li class="dropdown-header">Statistiques avancées</li>
                  <li><a href="effets-d-interaction.html">Effets d'interaction dans un modèle</a></li>
                  <li><a href="multicolinearite.html">Multicolinéarité dans la régression</a></li>
                  <li><a href="analyse-de-survie.html">Analyse de survie</a></li>
                  <li><a href="analyse-de-sequences.html">Analyse de séquences</a></li>
                  <!--<li><a href="modeles-a-effets-aleatoires.html">Modèles à effets aléatoires (modèles mixtes et GEE)</a></li>-->
                  <li><a href="trajectoires-de-soins.html">Trajectoires de soins&nbsp;: un exemple de données longitudinales</a></li>
                  <li><a href="analyse-de-reseaux.html">Analyse de réseaux</a></li>
                  <li><a href="analyse-spatiale.html">Analyse spatiale</a></li>
  	            </ul>
              </div>
            </div>
          </ul>
        </li>
        <li class="dropdown">
          <a href="approfondir" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Approfondir <span class="caret"></span></a>
          <ul class="dropdown-menu multi-column columns-3" role="menu" id="menu_approfondir">
            <div class="row">
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
  		            <li class="dropdown-header">Graphiques</li>
                  <li><a href="ggplot2.html"><strong>ggplot2</strong> et la grammaire des graphiques</a></li>
                  <li><a href="etendre-ggplot2.html">Étendre ggplot2</a></li>
                  <li><a href="combiner-plusieurs-graphiques.html">Combiner plusieurs graphiques</a></li>
                  <li><a href="graphiques-interactifs.html">Graphiques interactifs</a></li>
                  <li><a href="lattice-graphiques-et-formules.html"><strong>lattice</strong> : graphiques et formules</a></li>
                  <li><a href="cartes.html">Cartes</a></li>
  	            </ul>
              </div>
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
  		            <li class="dropdown-header">Programmation</li>
  		            <li><a href="conditions-et-comparaisons.html">Conditions et comparaisons</a></li>
                  <li><a href="formules.html">Formules</a></li>
                  <li><a href="structures-conditionnelles.html">Structures conditionnelles</a></li>
                  <li><a href="vectorisation.html">Vectorisation</a></li>
                  <li><a href="expressions-regulieres.html">Expressions régulières</a></li>
                  <!--<li class="dev"><a href="ecrire-ses-propres-fonctions.html">Écrire ses propres fonctions</a></li>-->
                  <li><a href="rmarkdown-les-rapports-automatises.html"><strong>R Markdown</strong> : les rapports automatisés</a></li>
  	            </ul>
              </div>
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
                  <li class="dropdown-header">Divers</li>
                  <li><a href="formater-nombres.html">Mettre en forme des nombres</a></li>
                  <li><a href="couleurs.html">Couleurs et Palettes</a></li>
                  <li><a href="annotations-mathematiques.html">Annotations mathématiques</a></li>
                  <li><a href="calculer-un-age.html">Calculer un âge</a></li>
                  <li><a href="diagramme-de-lexis.html">Diagramme de Lexis</a></li>
  	            </ul>
              </div>
            </div>
          </ul>
        </li>
        <li class="dropdown">
          <a href="index" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Index <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu" id="menu_naviguer">
            <li><a href="index-des-concepts.html">Index des concepts</a></li>
            <li><a href="index-des-fonctions.html">Index des fonctions</a></li>
            <li><a href="index-des-extensions.html">Index des extensions</a></li>
          </ul>
        </li>
        <li><a href="analyse-R.pdf">PDF</a></li>
        <!--<li><a href="https://github.com/larmarange/analyse-R">GitHub</a></li>-->
      </ul>
    <form id="rechercher" class="navbar-form navbar-right" role="search" style="padding-top: 5px;" method="get" action="https://duckduckgo.com/">
      <div class="form-group">
        <input name="q" type="text" class="form-control input-sm" placeholder="Rechercher">
      </div>
      <button type="submit" class="btn btn-default btn-sm" name="Rechercher">
        <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
      </button>
    </form>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->
</nav>

<div class="row">

<div class="visible-lg">
<a href="https://github.com/larmarange/analyse-R"><img style="position: absolute; top: 60px; left: 40px; border: 0;" src="./images/fork_me.png" alt="Contribuer sur GitHub"></a>
</div>

<div class="col-sm-9" role="main">
<article>

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Effets d’interaction dans un modèle</h1>

</div>

<div id="TOC">
<ul>
<li><a href="#exemple-dinteraction">Exemple d’interaction</a></li>
<li><a href="#un-second-exemple-dinteraction">Un second exemple d’interaction</a></li>
<li><a href="#explorer-les-differentes-interactions-possibles">Explorer les différentes interactions possibles</a></li>
<li><a href="#pour-aller-plus-loin">Pour aller plus loin</a></li>
</ul>
</div>

<p>Dans un modèle statistique classique, on fait l’hypothèse implicite que chaque variable explicative est indépendante des autres. Cependant, cela ne se vérifie pas toujours. Par exemple, l’effet de l’âge peut varier en fonction du sexe. Il est dès lors nécessaire de prendre en compte dans son modèle les <dfn data-index="effet d'interaction">effets d’interaction</dfn><dfn data-index="interaction"></dfn><a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>.</p>
<div id="exemple-dinteraction" class="section level2">
<h2>Exemple d’interaction</h2>
<p>Reprenons le modèle que nous avons utilisé dans le chapitre sur la <a href="regression-logistique.html">régression logistique</a>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">library</span>(questionr)</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">data</span>(hdv2003)</a>
<a class="sourceLine" id="cb1-3" title="3">d &lt;-<span class="st"> </span>hdv2003</a>
<a class="sourceLine" id="cb1-4" title="4">d<span class="op">$</span>sexe &lt;-<span class="st"> </span><span class="kw">relevel</span>(d<span class="op">$</span>sexe, <span class="st">&quot;Femme&quot;</span>)</a>
<a class="sourceLine" id="cb1-5" title="5">d<span class="op">$</span>grpage &lt;-<span class="st"> </span><span class="kw">cut</span>(d<span class="op">$</span>age, <span class="kw">c</span>(<span class="dv">16</span>, <span class="dv">25</span>, <span class="dv">45</span>, <span class="dv">65</span>, <span class="dv">99</span>), <span class="dt">right =</span> <span class="ot">FALSE</span>, </a>
<a class="sourceLine" id="cb1-6" title="6">  <span class="dt">include.lowest =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb1-7" title="7">d<span class="op">$</span>etud &lt;-<span class="st"> </span>d<span class="op">$</span>nivetud</a>
<a class="sourceLine" id="cb1-8" title="8"><span class="kw">levels</span>(d<span class="op">$</span>etud) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Primaire&quot;</span>, <span class="st">&quot;Primaire&quot;</span>, <span class="st">&quot;Primaire&quot;</span>, <span class="st">&quot;Secondaire&quot;</span>, </a>
<a class="sourceLine" id="cb1-9" title="9">  <span class="st">&quot;Secondaire&quot;</span>, <span class="st">&quot;Technique/Professionnel&quot;</span>, <span class="st">&quot;Technique/Professionnel&quot;</span>, </a>
<a class="sourceLine" id="cb1-10" title="10">  <span class="st">&quot;Supérieur&quot;</span>)</a>
<a class="sourceLine" id="cb1-11" title="11">d<span class="op">$</span>etud &lt;-<span class="st"> </span><span class="kw">addNAstr</span>(d<span class="op">$</span>etud, <span class="st">&quot;Manquant&quot;</span>)</a></code></pre></div>
<p>Nous avions alors exploré les facteurs associés au fait de pratiquer du sport.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1">mod &lt;-<span class="st"> </span><span class="kw">glm</span>(sport <span class="op">~</span><span class="st"> </span>sexe <span class="op">+</span><span class="st"> </span>grpage <span class="op">+</span><span class="st"> </span>etud <span class="op">+</span><span class="st"> </span>heures.tv <span class="op">+</span><span class="st"> </span>relig, </a>
<a class="sourceLine" id="cb2-2" title="2">  <span class="dt">data =</span> d, <span class="dt">family =</span> <span class="kw">binomial</span>())</a>
<a class="sourceLine" id="cb2-3" title="3"><span class="kw">odds.ratio</span>(mod)</a></code></pre></div>
<pre><code>Waiting for profiling to be done...</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["OR"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["2.5 %"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["97.5 %"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["p"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"0.4500628","2":"0.2377004","3":"0.8473181","4":"1.370761e-02","_rn_":"(Intercept)"},{"1":"1.5522329","2":"1.2614265","3":"1.9120047","4":"3.388995e-05","_rn_":"sexeHomme"},{"1":"0.6567525","2":"0.4194391","3":"1.0274553","4":"6.523578e-02","_rn_":"grpage[25,45)"},{"1":"0.3377552","2":"0.2115307","3":"0.5380894","4":"4.968863e-06","_rn_":"grpage[45,65)"},{"1":"0.2512383","2":"0.1463860","3":"0.4288023","4":"4.530833e-07","_rn_":"grpage[65,99]"},{"1":"2.5871865","2":"1.7652682","3":"3.8327896","4":"1.476280e-06","_rn_":"etudSecondaire"},{"1":"2.8555168","2":"1.9804881","3":"4.1729378","4":"3.237229e-08","_rn_":"etudTechnique/Professionnel"},{"1":"6.6304155","2":"4.5517938","3":"9.7950691","4":"3.323809e-22","_rn_":"etudSupérieur"},{"1":"8.5885303","2":"4.5347799","3":"16.5885323","4":"7.419197e-11","_rn_":"etudManquant"},{"1":"0.8861129","2":"0.8290223","3":"0.9457756","4":"3.188426e-04","_rn_":"heures.tv"},{"1":"0.9783342","2":"0.6758807","3":"1.4198530","4":"9.078331e-01","_rn_":"religPratiquant occasionnel"},{"1":"0.9933267","2":"0.7063000","3":"1.4020242","4":"9.694337e-01","_rn_":"religAppartenance sans pratique"},{"1":"0.8062276","2":"0.5524228","3":"1.1782475","4":"2.646171e-01","_rn_":"religNi croyance ni appartenance"},{"1":"0.6814428","2":"0.3868800","3":"1.1889781","4":"1.797562e-01","_rn_":"religRejet"},{"1":"0.9196256","2":"0.3996746","3":"2.0215562","4":"8.384696e-01","_rn_":"religNSP ou NVPR"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Selon les résultats de notre modèle, les hommes pratiquent plus un sport que les femmes et la pratique du sport diminue avec l’âge. Pour représenter les effets différentes variables, on peut avoir recours à la fonction <code data-pkg="effects" data-rdoc="effects">allEffects</code> de l’extension <code class="pkg">effects</code>.</p>
<figure>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">library</span>(effects)</a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">plot</span>(<span class="kw">allEffects</span>(mod))</a></code></pre></div>
<img src="graphs/effets-d-interaction/unnamed-chunk-3-1.png" width="1050" />
<figcaption>
Représentation graphique des effets du modèle
</figcaption>
</figure>
<p>Cependant, l’effet de l’âge est-il le même selon le sexe ? Nous allons donc introduire une interaction entre l’âge et le sexe dans notre modèle, ce qui sera représenté par <code>sexe * grpage</code> dans l’équation du modèle.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1">mod2 &lt;-<span class="st"> </span><span class="kw">glm</span>(sport <span class="op">~</span><span class="st"> </span>sexe <span class="op">*</span><span class="st"> </span>grpage <span class="op">+</span><span class="st"> </span>etud <span class="op">+</span><span class="st"> </span>heures.tv <span class="op">+</span><span class="st"> </span>relig, </a>
<a class="sourceLine" id="cb5-2" title="2">  <span class="dt">data =</span> d, <span class="dt">family =</span> <span class="kw">binomial</span>())</a></code></pre></div>
<p>Commençons par regarder les effets du modèle.</p>
<figure>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">plot</span>(<span class="kw">allEffects</span>(mod2))</a></code></pre></div>
<img src="graphs/effets-d-interaction/unnamed-chunk-5-1.png" width="1050" />
<figcaption>
Représentation graphique des effets du modèle avec interaction entre le sexe et le groupe d’âge
</figcaption>
</figure>
<p>Sur ce graphique, on voit que l’effet de l’âge sur la pratique d’un sport est surtout marqué chez les hommes. Chez les femmes, le même effet est observé, mais dans une moindre mesure et seulement à partir de 45 ans.</p>
<p>On peut tester si l’ajout de l’interaction améliore significativement le modèle avec <code data-pkg="stats">anova</code>.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">anova</span>(mod2, <span class="dt">test =</span> <span class="st">&quot;Chisq&quot;</span>)</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Df"],"name":[1],"type":["int"],"align":["right"]},{"label":["Deviance"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Resid. Df"],"name":[3],"type":["int"],"align":["right"]},{"label":["Resid. Dev"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Pr(>Chi)"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"NA","2":"NA","3":"1994","4":"2609.203","5":"NA","_rn_":"NULL"},{"1":"1","2":"16.210568","3":"1993","4":"2592.992","5":"5.667706e-05","_rn_":"sexe"},{"1":"3","2":"216.268052","3":"1990","4":"2376.724","5":"1.286530e-46","_rn_":"grpage"},{"1":"4","2":"152.731832","3":"1986","4":"2223.992","5":"5.287542e-32","_rn_":"etud"},{"1":"1","2":"13.587965","3":"1985","4":"2210.404","5":"2.276403e-04","_rn_":"heures.tv"},{"1":"5","2":"4.231856","3":"1980","4":"2206.173","5":"5.165401e-01","_rn_":"relig"},{"1":"3","2":"13.030354","3":"1977","4":"2193.142","5":"4.571421e-03","_rn_":"sexe:grpage"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Jetons maintenant un oeil aux coefficients du modèle. Pour rendre les choses plus visuelles, nous aurons recours à <code data-pkg="GGally">ggcoef</code> de l’extension <code class="pkg">GGally</code>.</p>
<figure>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1"><span class="kw">library</span>(GGally)</a>
<a class="sourceLine" id="cb8-2" title="2"><span class="kw">ggcoef</span>(mod2, <span class="dt">exponentiate =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<img src="graphs/effets-d-interaction/unnamed-chunk-7-1.png" width="1050" />
<figcaption>
Représentation graphique des coefficients du modèle avec interaction entre le sexe et le groupe d’âge
</figcaption>
</figure>
<p>Concernant l’âge et le sexe, nous avons trois séries de coefficients : trois coefficients (<em>grpage[25,45)</em>, <em>grpage[45,65)</em> et <em>grpage[65,99]</em>) qui correspondent à l’effet global de la variable <em>âge</em>, un coefficient (<em>sexeHomme</em>)pour l’effet global du sexe et trois coefficients qui sont des moficateurs de l’effet d’âge pour les hommes (<em>grpage[25,45)</em>, <em>grpage[45,65)</em> et <em>grpage[65,99]</em>).</p>
<p>Pour bien interpréter ces coefficients, il faut toujours avoir en tête les modalités choisies comme référence pour chaque variable. Supposons une femme de 60 ans, dont toutes lautres variables correspondent aux modalités de référence (c’est donc une pratiquante régulière, de niveau primaire, qui ne regarde pas la télévision). Regardons ce que prédit le modèle quant à sa probabilité de faire du sport au travers d’une représentation graphique</p>
<figure>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">library</span>(breakDown)</a>
<a class="sourceLine" id="cb9-2" title="2"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb9-3" title="3">logit &lt;-<span class="st"> </span><span class="cf">function</span>(x) <span class="kw">exp</span>(x)<span class="op">/</span>(<span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="kw">exp</span>(x))</a>
<a class="sourceLine" id="cb9-4" title="4">nouvelle_observation &lt;-<span class="st"> </span>d[<span class="dv">1</span>, ]</a>
<a class="sourceLine" id="cb9-5" title="5">nouvelle_observation<span class="op">$</span>sexe[<span class="dv">1</span>] =<span class="st"> &quot;Femme&quot;</span></a>
<a class="sourceLine" id="cb9-6" title="6">nouvelle_observation<span class="op">$</span>grpage[<span class="dv">1</span>] =<span class="st"> &quot;[45,65)&quot;</span></a>
<a class="sourceLine" id="cb9-7" title="7">nouvelle_observation<span class="op">$</span>etud[<span class="dv">1</span>] =<span class="st"> &quot;Primaire&quot;</span></a>
<a class="sourceLine" id="cb9-8" title="8">nouvelle_observation<span class="op">$</span>relig[<span class="dv">1</span>] =<span class="st"> &quot;Pratiquant regulier&quot;</span></a>
<a class="sourceLine" id="cb9-9" title="9">nouvelle_observation<span class="op">$</span>heures.tv[<span class="dv">1</span>] =<span class="st"> </span><span class="dv">0</span></a>
<a class="sourceLine" id="cb9-10" title="10"><span class="kw">plot</span>(<span class="kw">broken</span>(mod2, nouvelle_observation, <span class="dt">predict.function =</span> betas), </a>
<a class="sourceLine" id="cb9-11" title="11">  <span class="dt">trans =</span> logit) <span class="op">+</span><span class="st"> </span><span class="kw">ylim</span>(<span class="dv">0</span>, <span class="dv">1</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Probabilité de faire du sport&quot;</span>)</a></code></pre></div>
<pre><code>Scale for &#39;y&#39; is already present. Adding another scale
for &#39;y&#39;, which will replace the existing scale.</code></pre>
<img src="graphs/effets-d-interaction/unnamed-chunk-8-1.png" width="1050" />
<figcaption>
Représentation graphique de l’estimation de la probabilité de faire du sport pour une femme de 60 ans
</figcaption>
</figure>
<p>En premier lieu, l’intercept s’applique et permet de déterminer la probabilité de base de faire du sport (si toutes les variables sont à leur valeur de référence). <q>Femme</q> étant la modalité de référence pour la variable <var>sexe</var>, cela ne modifie pas le calcul de la probabilité de faire du sport. Par contre, il y a une modification induite par la modalité <q>45-65</q> de la variable <var>grpage</var>.</p>
<p>Regardons maintenant la situation d’un homme de 20 ans.</p>
<figure>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1">nouvelle_observation<span class="op">$</span>sexe[<span class="dv">1</span>] =<span class="st"> &quot;Homme&quot;</span></a>
<a class="sourceLine" id="cb11-2" title="2">nouvelle_observation<span class="op">$</span>grpage[<span class="dv">1</span>] =<span class="st"> &quot;[16,25)&quot;</span></a>
<a class="sourceLine" id="cb11-3" title="3"><span class="kw">plot</span>(<span class="kw">broken</span>(mod2, nouvelle_observation, <span class="dt">predict.function =</span> betas), </a>
<a class="sourceLine" id="cb11-4" title="4">  <span class="dt">trans =</span> logit) <span class="op">+</span><span class="st"> </span><span class="kw">ylim</span>(<span class="dv">0</span>, <span class="dv">1</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Probabilité de faire du sport&quot;</span>)</a></code></pre></div>
<pre><code>Scale for &#39;y&#39; is already present. Adding another scale
for &#39;y&#39;, which will replace the existing scale.</code></pre>
<img src="graphs/effets-d-interaction/unnamed-chunk-9-1.png" width="1050" />
<figcaption>
Représentation graphique de l’estimation de la probabilité de faire du sport pour un homme de 20 ans
</figcaption>
</figure>
<p>Nous sommes à la modalité de référence pour l’âge par contre il y a un effet important du sexe. Le coefficient associé globalement à la variable <var>sexe</var> correspond donc à l’effet du sexe à la modalité de référence du groupe d’âges.</p>
<p>La situation est différente pour un homme de 60 ans.</p>
<figure>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1">nouvelle_observation<span class="op">$</span>grpage[<span class="dv">1</span>] =<span class="st"> &quot;[45,65)&quot;</span></a>
<a class="sourceLine" id="cb13-2" title="2"><span class="kw">plot</span>(<span class="kw">broken</span>(mod2, nouvelle_observation, <span class="dt">predict.function =</span> betas), </a>
<a class="sourceLine" id="cb13-3" title="3">  <span class="dt">trans =</span> logit) <span class="op">+</span><span class="st"> </span><span class="kw">ylim</span>(<span class="dv">0</span>, <span class="dv">1</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Probabilité de faire du sport&quot;</span>)</a></code></pre></div>
<pre><code>Scale for &#39;y&#39; is already present. Adding another scale
for &#39;y&#39;, which will replace the existing scale.</code></pre>
<img src="graphs/effets-d-interaction/unnamed-chunk-10-1.png" width="1050" />
<figcaption>
Représentation graphique de l’estimation de la probabilité de faire du sport pour un homme de 60 ans
</figcaption>
</figure>
<p>Cette fois-ci, il y a plusieurs modifications d’effet. On applique en effet à la fois le coefficient <q>sexe = Homme</q> (effet du sexe pour les 15-24 ans), le coefficient <q>grpage = [45-65)</q> qui est l’effet de l’âge pour les femmes de 45-64 ans et le coefficient <q>sexe:grpage = Homme:[45-65)</q> qui indique l’effet spécifique qui s’applique aux hommes de 45-64, d’une part par rapport aux femmes du même et d’autre part par rapport aux hommes de 16-24 ans. L’effet des coefficients d’interaction doivent donc être interprétés par rapport aux autres coefficients du modèle qui s’appliquent, en tenant compte des modalités de référence.</p>
<p>Il est cependant possible d’écrire le même modèle différemment. En effet, <code>sexe * grpage</code> dans la formule du modèle est équivalent à l’écriture <code>sexe + grpage + sexe:grpage</code>, c’est-à-dire à modéliser un coefficient global pour chaque variable plus un des coefficients d’interaction. On aurait pu demander juste des coefficients d’interaction, en ne mettant que <code>sexe:grpage</code>.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1">mod3 &lt;-<span class="st"> </span><span class="kw">glm</span>(sport <span class="op">~</span><span class="st"> </span>sexe<span class="op">:</span>grpage <span class="op">+</span><span class="st"> </span>etud <span class="op">+</span><span class="st"> </span>heures.tv <span class="op">+</span><span class="st"> </span>relig, <span class="dt">data =</span> d, </a>
<a class="sourceLine" id="cb15-2" title="2">  <span class="dt">family =</span> <span class="kw">binomial</span>())</a></code></pre></div>
<p>Au sens strict, ce modèle explique tout autant le phénomène étudié que le modèle précédent. On peut le vérifier facilement avec <code data-pkg="stats">anova</code>.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1"><span class="kw">anova</span>(mod2, mod3, <span class="dt">test =</span> <span class="st">&quot;Chisq&quot;</span>)</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Resid. Df"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Resid. Dev"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Df"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Deviance"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Pr(>Chi)"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"1977","2":"2193.142","3":"NA","4":"NA","5":"NA","_rn_":"1"},{"1":"1977","2":"2193.142","3":"0","4":"0","5":"NA","_rn_":"2"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>De même, les effets modélisés sont les mêmes.</p>
<figure>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" title="1"><span class="kw">plot</span>(<span class="kw">allEffects</span>(mod3))</a></code></pre></div>
<img src="graphs/effets-d-interaction/unnamed-chunk-13-1.png" width="1050" />
<figcaption>
Représentation graphique des effets du modèle avec interaction simple entre le sexe et le groupe d’âge
</figcaption>
</figure>
<p>Par contre, regardons d’un peu plus près les coefficients de ce nouveau modèle. Nous allons voir que leur interprétation est légèrement différente.</p>
<figure>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" title="1"><span class="kw">ggcoef</span>(mod3, <span class="dt">exponentiate =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<img src="graphs/effets-d-interaction/unnamed-chunk-14-1.png" width="1050" />
<figcaption>
Représentation graphique des coefficients du modèle avec interaction simple entre le sexe et le groupe d’âge
</figcaption>
</figure>
<p>Cette fois-ci, il n’y a plus de coefficients globaux pour la variable <var>sexe</var> ni pour <var>grpage</var> mais des coefficients pour chaque combinaison de ces deux variables.</p>
<figure>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" title="1"><span class="kw">plot</span>(<span class="kw">broken</span>(mod3, nouvelle_observation, <span class="dt">predict.function =</span> betas), </a>
<a class="sourceLine" id="cb19-2" title="2">  <span class="dt">trans =</span> logit) <span class="op">+</span><span class="st"> </span><span class="kw">ylim</span>(<span class="dv">0</span>, <span class="dv">1</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Probabilité de faire du sport&quot;</span>)</a></code></pre></div>
<pre><code>Scale for &#39;y&#39; is already present. Adding another scale
for &#39;y&#39;, which will replace the existing scale.</code></pre>
<img src="graphs/effets-d-interaction/unnamed-chunk-15-1.png" width="1050" />
<figcaption>
Représentation graphique de l’estimation de la probabilité de faire du sport pour un homme de 40 ans
</figcaption>
</figure>
<p>Cette fois-ci, le coefficient d’interaction fourrnit l’effet global du sexe et de l’âge, et non plus la modification de cette combinaison par rapport aux coefficients globaux. Leur sens est donc différent et il faudra les interpréter en conséquence.</p>
</div>
<div id="un-second-exemple-dinteraction" class="section level2">
<h2>Un second exemple d’interaction</h2>
<p>Intéressons-nous maintenant à l’interaction entre le sexe et le niveau d’étude. L’effet du niveau d’étude diffère-t-il selon l’âge ?</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" title="1">mod4 &lt;-<span class="st"> </span><span class="kw">glm</span>(sport <span class="op">~</span><span class="st"> </span>sexe <span class="op">*</span><span class="st"> </span>etud <span class="op">+</span><span class="st"> </span>grpage <span class="op">+</span><span class="st"> </span>heures.tv <span class="op">+</span><span class="st"> </span>relig, </a>
<a class="sourceLine" id="cb21-2" title="2">  <span class="dt">data =</span> d, <span class="dt">family =</span> <span class="kw">binomial</span>())</a></code></pre></div>
<p>Regardons d’abord les effets.</p>
<figure>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" title="1"><span class="kw">plot</span>(<span class="kw">allEffects</span>(mod4))</a></code></pre></div>
<img src="graphs/effets-d-interaction/unnamed-chunk-17-1.png" width="1050" />
<figcaption>
Représentation graphique des effets du modèle avec interaction entre le sexe et le niveau d’étude
</figcaption>
</figure>
<p>À première vue, l’effet du niveau d’étude semble être le même chez les hommes et chez les femmes. Ceci dit, cela serait peut être plus lisible si l’on superposait les deux sexe sur un même graphique. Nous allons utiliser la fonction <code data-pkg="ggeffects">ggeffect</code> de l’extension <code class="pkg">ggeffects</code> qui permets de récupérer les effets calculés avec <code data-pkg="effects">effect</code> dans un format utilisable avec <code class="pkg">ggplot2</code>.</p>
<figure>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" title="1"><span class="kw">library</span>(ggeffects)</a>
<a class="sourceLine" id="cb23-2" title="2"><span class="kw">plot</span>(<span class="kw">ggeffect</span>(mod4, <span class="kw">c</span>(<span class="st">&quot;etud&quot;</span>, <span class="st">&quot;sexe&quot;</span>)))</a></code></pre></div>
<img src="graphs/effets-d-interaction/unnamed-chunk-18-1.png" width="1050" />
<figcaption>
Effets du niveau d’étude selon le sexe
</figcaption>
</figure>
<p>Cela confirme ce que l’on suppose. Regardons les coefficients du modèle.</p>
<figure>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" title="1"><span class="kw">ggcoef</span>(mod4, <span class="dt">exponentiate =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<img src="graphs/effets-d-interaction/unnamed-chunk-19-1.png" width="1050" />
<figcaption>
Représentation graphique des coefficients du modèle avec interaction simple entre le sexe et le niveau d’étude
</figcaption>
</figure>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" title="1"><span class="kw">odds.ratio</span>(mod4)</a></code></pre></div>
<pre><code>Waiting for profiling to be done...</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["OR"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["2.5 %"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["97.5 %"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["p"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"0.4592764","2":"0.2278135","3":"0.9125841","4":"2.768307e-02","_rn_":"(Intercept)"},{"1":"1.4165936","2":"0.7723389","3":"2.5843196","4":"2.558796e-01","_rn_":"sexeHomme"},{"1":"2.2479377","2":"1.3529555","3":"3.8167329","4":"2.124226e-03","_rn_":"etudSecondaire"},{"1":"3.0924365","2":"1.8995289","3":"5.1708582","4":"9.260397e-06","_rn_":"etudTechnique/Professionnel"},{"1":"6.5907265","2":"4.0175260","3":"11.1205150","4":"3.307004e-13","_rn_":"etudSupérieur"},{"1":"5.2128789","2":"2.4249600","3":"11.4293669","4":"2.846909e-05","_rn_":"etudManquant"},{"1":"0.6598464","2":"0.4192532","3":"1.0363766","4":"7.108967e-02","_rn_":"grpage[25,45)"},{"1":"0.3424868","2":"0.2135313","3":"0.5476729","4":"7.877193e-06","_rn_":"grpage[45,65)"},{"1":"0.2540174","2":"0.1474467","3":"0.4349677","4":"6.606306e-07","_rn_":"grpage[65,99]"},{"1":"0.8870724","2":"0.8298465","3":"0.9468213","4":"3.646131e-04","_rn_":"heures.tv"},{"1":"0.9762137","2":"0.6731772","3":"1.4195590","4":"8.992576e-01","_rn_":"religPratiquant occasionnel"},{"1":"1.0087357","2":"0.7160437","3":"1.4266177","4":"9.605105e-01","_rn_":"religAppartenance sans pratique"},{"1":"0.8263171","2":"0.5648924","3":"1.2107682","4":"3.262194e-01","_rn_":"religNi croyance ni appartenance"},{"1":"0.7030614","2":"0.3979728","3":"1.2296877","4":"2.200263e-01","_rn_":"religRejet"},{"1":"0.8956285","2":"0.3858821","3":"1.9819956","4":"7.904669e-01","_rn_":"religNSP ou NVPR"},{"1":"1.3769289","2":"0.6500341","3":"2.9290008","4":"4.037975e-01","_rn_":"sexeHomme:etudSecondaire"},{"1":"0.8743374","2":"0.4378996","3":"1.7537695","4":"7.035417e-01","_rn_":"sexeHomme:etudTechnique/Professionnel"},{"1":"1.0077621","2":"0.4924380","3":"2.0724654","4":"9.831280e-01","_rn_":"sexeHomme:etudSupérieur"},{"1":"4.2830489","2":"1.3215284","3":"15.8356600","4":"2.008849e-02","_rn_":"sexeHomme:etudManquant"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Si les coefficients associés au niveau d’étude sont significatifs, ceux de l’interaction ne le sont pas (sauf <q>sexeHomme:etudManquant</q>) et celui associé au sexe, précédemment significatif ne l’est plus. Testons avec <code data-pkg="stats">anova</code> si l’interaction est belle et bien significative.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" title="1"><span class="kw">anova</span>(mod4, <span class="dt">test =</span> <span class="st">&quot;Chisq&quot;</span>)</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["Df"],"name":[1],"type":["int"],"align":["right"]},{"label":["Deviance"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Resid. Df"],"name":[3],"type":["int"],"align":["right"]},{"label":["Resid. Dev"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Pr(>Chi)"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"NA","2":"NA","3":"1994","4":"2609.203","5":"NA","_rn_":"NULL"},{"1":"1","2":"16.210568","3":"1993","4":"2592.992","5":"5.667706e-05","_rn_":"sexe"},{"1":"4","2":"319.190017","3":"1989","4":"2273.802","5":"7.843331e-68","_rn_":"etud"},{"1":"3","2":"49.809867","3":"1986","4":"2223.992","5":"8.769868e-11","_rn_":"grpage"},{"1":"1","2":"13.587965","3":"1985","4":"2210.404","5":"2.276403e-04","_rn_":"heures.tv"},{"1":"5","2":"4.231856","3":"1980","4":"2206.173","5":"5.165401e-01","_rn_":"relig"},{"1":"4","2":"10.222660","3":"1976","4":"2195.950","5":"3.683946e-02","_rn_":"sexe:etud"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>L’interaction est bien significative mais faiblement. Vu que l’effet du niveau d’étude reste nénamoins très similaire selon le sexe, on peut se demander s’il est pertinent de la conserver.</p>
</div>
<div id="explorer-les-differentes-interactions-possibles" class="section level2">
<h2>Explorer les différentes interactions possibles</h2>
<p>Il peut y avoir de multiples interactions dans un modèle, d’ordre 2 (entre deux variables) ou plus (entre trois variables ou plus). Il est dès lors tentant de tester les multiples interactions possibles de manière itératives afin d’identifier celles à retenir. C’est justement le but de la fonction <code data-pkg="ggmulti">glmulti</code> de l’extension du même nom. <code data-pkg="ggmulti">glmulti</code> permets de tester toutes les combinaisons d’interactions d’ordre 2 dans un modèle, en retenant le meilleur modèle à partir d’un critère spécifié (par défaut l’<df>AIC</dfn>). ATTENTION : le temps de calcul de <code data-pkg="ggmulti">glmulti</code> peut-être long.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" title="1"><span class="kw">library</span>(glmulti)</a>
<a class="sourceLine" id="cb28-2" title="2"><span class="kw">glmulti</span>(sport <span class="op">~</span><span class="st"> </span>sexe <span class="op">+</span><span class="st"> </span>grpage <span class="op">+</span><span class="st"> </span>etud <span class="op">+</span><span class="st"> </span>heures.tv <span class="op">+</span><span class="st"> </span>relig, <span class="dt">data =</span> d, </a>
<a class="sourceLine" id="cb28-3" title="3">  <span class="dt">family =</span> <span class="kw">binomial</span>())</a></code></pre></div>
<pre><code>Initialization...
TASK: Exhaustive screening of candidate set.
Fitting...

After 50 models:
Best model: sport~1+grpage+heures.tv+sexe:heures.tv+grpage:heures.tv+etud:heures.tv
Crit= 2284.87861987263
Mean crit= 2406.80086471225

After 100 models:
Best model: sport~1+etud+heures.tv+grpage:heures.tv
Crit= 2267.79462883348
Mean crit= 2360.46497457747

After 150 models:
Best model: sport~1+grpage+etud+heures.tv+sexe:heures.tv
Crit= 2228.88574082404
Mean crit= 2286.60589884071

After 200 models:
Best model: sport~1+grpage+etud+heures.tv+sexe:heures.tv
Crit= 2228.88574082404
Mean crit= 2254.99359340075

After 250 models:
Best model: sport~1+sexe+grpage+etud+heures.tv+etud:sexe+sexe:heures.tv
Crit= 2226.00088609349
Mean crit= 2241.76611580481

After 300 models:
Best model: sport~1+sexe+grpage+etud+heures.tv+grpage:sexe+sexe:heures.tv
Crit= 2222.67161519005
Mean crit= 2234.95020358944</code></pre>
<p>On voit qu’au bout d’un moment, l’algorithme se statibilise autour d’un modèle comportant une interaction entre le sexe et l’âge d’une part et entre le sexe et le nombre d’heures passées quotidiennement devant la télé. On voit également que la variable religion a été retirée du modèle final.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" title="1">best &lt;-<span class="st"> </span><span class="kw">glm</span>(sport <span class="op">~</span><span class="st"> </span><span class="dv">1</span> <span class="op">+</span><span class="st"> </span>sexe <span class="op">+</span><span class="st"> </span>grpage <span class="op">+</span><span class="st"> </span>etud <span class="op">+</span><span class="st"> </span>heures.tv <span class="op">+</span><span class="st"> </span>grpage<span class="op">:</span>sexe <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb30-2" title="2"><span class="st">  </span>sexe<span class="op">:</span>heures.tv, <span class="dt">data =</span> d, <span class="dt">family =</span> <span class="kw">binomial</span>())</a>
<a class="sourceLine" id="cb30-3" title="3"><span class="kw">odds.ratio</span>(best)</a></code></pre></div>
<pre><code>Waiting for profiling to be done...</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["OR"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["2.5 %"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["97.5 %"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["p"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"0.2853948","2":"0.14481105","3":"0.5557226","4":"2.507671e-04","_rn_":"(Intercept)"},{"1":"4.0187321","2":"1.80857301","3":"9.4145359","4":"8.948753e-04","_rn_":"sexeHomme"},{"1":"1.0302051","2":"0.59131212","3":"1.8183799","4":"9.170428e-01","_rn_":"grpage[25,45)"},{"1":"0.6275988","2":"0.35186815","3":"1.1323269","4":"1.171763e-01","_rn_":"grpage[45,65)"},{"1":"0.4934766","2":"0.24910600","3":"0.9761597","4":"4.212028e-02","_rn_":"grpage[65,99]"},{"1":"2.5419890","2":"1.73557252","3":"3.7634119","4":"2.210614e-06","_rn_":"etudSecondaire"},{"1":"2.8175695","2":"1.95625089","3":"4.1136841","4":"4.442864e-08","_rn_":"etudTechnique/Professionnel"},{"1":"6.6850848","2":"4.58853819","3":"9.8795998","4":"2.358862e-22","_rn_":"etudSupérieur"},{"1":"8.8175667","2":"4.57501584","3":"17.3667592","4":"1.446616e-10","_rn_":"etudManquant"},{"1":"0.8457505","2":"0.77151872","3":"0.9237122","4":"2.611928e-04","_rn_":"heures.tv"},{"1":"0.3180038","2":"0.13443374","3":"0.7155436","4":"6.962634e-03","_rn_":"sexeHomme:grpage[25,45)"},{"1":"0.2425282","2":"0.10136186","3":"0.5524224","4":"1.003409e-03","_rn_":"sexeHomme:grpage[45,65)"},{"1":"0.2246351","2":"0.08375307","3":"0.5805492","4":"2.419033e-03","_rn_":"sexeHomme:grpage[65,99]"},{"1":"1.1153509","2":"0.97939734","3":"1.2704828","4":"9.972658e-02","_rn_":"sexeHomme:heures.tv"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<figure>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" title="1"><span class="kw">ggcoef</span>(best, <span class="dt">exponentiate =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<img src="graphs/effets-d-interaction/unnamed-chunk-24-1.png" width="1050" />
<figcaption>
Représentation graphique des coefficients du modèle avec interaction entre le sexe, le niveau d’étude et le nombre d’heures passées devant la télévision
</figcaption>
</figure>
<figure>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" title="1"><span class="kw">plot</span>(<span class="kw">allEffects</span>(best))</a></code></pre></div>
<img src="graphs/effets-d-interaction/unnamed-chunk-25-1.png" width="1050" />
<figcaption>
Représentation graphique des effets du modèle avec interaction entre le sexe, le niveau d’étude et le nombre d’heures passées devant la télévision
</figcaption>
</figure>
</div>
<div id="pour-aller-plus-loin" class="section level2">
<h2>Pour aller plus loin</h2>
<p>Il y a d’autres extensions dédiées à l’analyse des interactions d’un modèle, de même que de nombreux supports de cours en ligne dédiés à cette question.</p>
<p>On pourra en particulier se référer à la vignette inclue avec l’extension <code class="pkg">phia</code> : <a href="https://cran.r-project.org/web/packages/phia/vignettes/phia.pdf" class="uri">https://cran.r-project.org/web/packages/phia/vignettes/phia.pdf</a>.</p>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>Pour une présentation plus statistique et mathématique des effets d’interaction, on pourra se référer au <a href="http://commonweb.unifr.ch/artsdean/pub/gestens/f/as/files/4665/9547_131825.pdf">cours de Jean-François Bickel disponible en ligne</a>.<a href="#fnref1" class="footnote-back">↩</a></p></li>
</ol>
</div>

</article>
</div>

<div class="col-sm-3" role="complementary">
<nav class="hidden-print hidden-xs" id="nav_sidebar">
</nav>
</div>

</div>

<script>
// manage active state of menu based on current page
$(document).ready(function () {

    // active menu
    href = window.location.pathname;
    href = href.substr(href.lastIndexOf('/') + 1);
    if (href=='') href = 'index.html';
    $('a[href="' + href + '"]').parent().addClass('active');
    $('a[href="' + href + '"]').parent().parents('li').addClass('active');

    // élargir la page d'accueil
    if (href=='index.html') $('.col-sm-9').attr('class','col-sm-12');

    // rechercher
    $("#rechercher").submit(function(event) {
      $('input[name="q"]').val($('input[name="q"]').val() + ' site:larmarange.github.io/analyse-R');
    });

    // sidebar
    $("#nav_sidebar").append($("#TOC").html());
    $("#nav_sidebar ul").addClass("nav nav-stacked");
    $("#TOC").addClass("visible-xs-block");
    $('body').scrollspy({
      target: '#nav_sidebar',
      offset: 40
    });

    // Identifier les <pre> fermant
    $('pre').next("*:not(pre)").prev().addClass('last'); // Dernier <pre> de chaque groupe contigu de <pre>
    $('pre').parent().each(function (){
      $(this).children('pre').last().addClass('last');
    }); // Si <pre> est le dernier enfant de son parent

    // Ajout liens rdocumentation et tooltip
    $("code[data-pkg]").each(function( index ) {
      pkg = $(this).attr('data-pkg');
      if ($(this).attr('data-rdoc') !== undefined) {
        rdocumentation = $(this).attr('data-rdoc');
      } else {
        rdocumentation = $(this).text();
      }
      fonction = $(this).text();
      //$(this).wrap('<a href="http://www.rdocumentation.org/packages/'+pkg+'/functions/'+rdocumentation+'">');
      $(this).wrap('<a href="http://rdrr.io/pkg/'+pkg+'/sym/'+rdocumentation+'">');
      $(this).attr('data-toggle','tooltip');
      $(this).attr('data-placement','top');
      $(this).attr('title','package : ' + pkg);
      $('[data-toggle="tooltip"]').tooltip();
    });

    $("code.pkg").each(function( index ) {
      //$(this).wrap('<a href="http://www.rdocumentation.org/packages/'+$(this).text()+'">');
      $(this).wrap('<a href="http://rdrr.io/pkg/'+$(this).text()+'">');
    });

    // Figures
    $("figure").each(function( index ) {
      if ($(this).children("figcaption").length > 0)
        $(this).children("figcaption:first").prepend('<span class="figure-number">Figure '+(index+1)+'.</span> ');
      else
        $(this).append($("<figcaption>").append('<span class="figure-number">Figure '+(index+1)+'</span>'));
    });

    // Colorbox

    /*----
    jQuery('article div img').colorbox({
      maxWidth: '90%',
      maxHeight: '90%',
      rel: 'figures',
      current: "",
      href: function(){
        return $(this).attr('src');
      },
      title: function(){
        return $(this).attr('alt');
      }
    });
    jQuery('article div img').css('cursor', 'pointer');
    jQuery('figure img').colorbox({
      maxWidth: '90%',
      maxHeight: '90%',
      rel: 'figures',
      current: "",
      href: function(){
        return $(this).attr('src');
      },
      title: function(){
        return $(this).parent().children("figcaption").text();
      }
    });
    jQuery('figure img').css('cursor', 'pointer');

    -----*/

    /* Clipboard --------------------------*/

  function changeTooltipMessage(element, msg) {
    var tooltipOriginalTitle=element.getAttribute('data-original-title');
    element.setAttribute('data-original-title', msg);
    $(element).tooltip('show');
    element.setAttribute('data-original-title', tooltipOriginalTitle);
  }

  if(ClipboardJS.isSupported()) {
    $(document).ready(function() {
      var copyButton = "<button type='button' class='btn btn-primary btn-copy-ex' type = 'submit' title='Copier dans le presse-papier' aria-label='Copier dans le presse-papier' data-toggle='tooltip' data-placement='left auto' data-trigger='hover' data-clipboard-copy><i class='fa fa-copy'></i></button>";

      $(".examples, div.sourceCode").addClass("hasCopyButton");

      // Insert copy buttons:
      $(copyButton).prependTo(".hasCopyButton");

      // Initialize tooltips:
      $('.btn-copy-ex').tooltip({container: 'body'});

      // Initialize clipboard:
      var clipboardBtnCopies = new ClipboardJS('[data-clipboard-copy]', {
        text: function(trigger) {
          return trigger.parentNode.textContent;
        }
      });

      clipboardBtnCopies.on('success', function(e) {
        changeTooltipMessage(e.trigger, 'Copié !');
        e.clearSelection();
      });

      clipboardBtnCopies.on('error', function() {
        changeTooltipMessage(e.trigger,'Appuyez sur Ctrl+C ou Command+C pour copier');
      });
    });
  }

  // Bigfoot
  $(".footnotes > li").addClass("footnote");
  $.bigfoot({
    activateOnHover: true,
    actionOriginalFN: "ignore"
});
});
</script>

<!-- Utterances comments --->
<script src="https://utteranc.es/client.js"
        repo="larmarange/analyse-R"
        issue-term="pathname"
        label="commentaires"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>

<!-- disqus -->
<!---
<div class="row">
  <div id="disqus_thread" class="col-sm-9" role="complementary"></div>
</div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'analyse-r'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Veuillez activer JavaScript pour voir les <a href="http://disqus.com/?ref_noscript">les commentaires gérés avec Disqus.</a></noscript>
    <!--<a href="http://disqus.com" class="dsq-brlink">Les commentaires sont hébergés par <span class="logo-disqus">Disqus</span>.</a>-->

<footer>
  <div class="row">
    <div class="col-lg-12">
      <p>Contenus sous licence <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/fr/" rel="nofollow">Creative Commons Attribution - Pas d’utilisation commerciale - Partage dans les mêmes conditions</a>.<br />
      Propulsé par <a href="http://www.r-project.org/" rel="nofollow">R</a>, </a><a href="http://www.rstudio.com/" rel="nofollow">RStudio</a>, <a href="http://rmarkdown.rstudio.com/" rel="nofollow">R Markdown</a>, <a href="http://yihui.name/knitr/" rel="nofollow">knitr</a>, <a href="http://pandoc.org/" rel="nofollow">pandoc</a> et <a href="http://www.princexml.com/" rel="nofollow">Prince XML</a>. Hébergé par <a href="https://github.com/" rel="nofollow">GitHub</a>.<br />
      <a href="https://www.zenodo.org/badge/latestdoi/34986666"><img src="https://www.zenodo.org/badge/34986666.svg" alt="DOI"></a></p>
    </div>
  </div>
</footer>



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>


</body>
</html>
