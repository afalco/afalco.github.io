<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="fr" xml:lang="fr">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Formules</title>

<script src="libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/paper.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="libs/navigation-1.1/tabsets.js"></script>
<link href="libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="libs/pagedtable-1.1/js/pagedtable.js"></script>
<meta name="robots" content="index, follow">
<link rel="stylesheet" href="./include/analyse-R.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script>
<script type="text/javascript" src="./libs/bigfoot-2.1.4/bigfoot.min.js"></script>
<link rel="stylesheet" href="./libs/bigfoot-2.1.4/bigfoot-number.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<link rel="stylesheet" href="./libs/colorbox-1.6.1/colorbox.css" />
<script type="text/javascript" src="./libs/colorbox-1.6.1/jquery.colorbox-min.js"></script>
<!--- favicon --->
<link rel="apple-touch-icon" sizes="57x57" href="./images/favicon/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="./images/favicon/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="./images/favicon/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="./images/favicon/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="./images/favicon/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="./images/favicon/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="./images/favicon/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="./images/favicon/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="./images/favicon/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="./images/favicon/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="./images/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="./images/favicon/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="./images/favicon/favicon-16x16.png">
<link rel="manifest" href="./images/favicon/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="./images/favicon/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-121727005-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-121727005-1');
</script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' || rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">



<nav>
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href=".">analyse-R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
          <a href="manipuler" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Manipuler <span class="caret"></span></a>
          <ul class="dropdown-menu multi-column columns-3" role="menu" id="menu_manipuler">
            <div class="row">
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
  		            <li class="dropdown-header">Prise en main</li>
                  <li><a href="presentation-et-philosophie.html">Présentation et Philosophie</a></li>
                  <li><a href="installation-de-R-et-RStudio.html">Installation de <strong>R</strong> et <strong>RStudio</strong></a></li>
                  <li><a href="premier-contact.html">Premier contact</a></li>
                  <li><a href="premier-travail-avec-les-donnees.html">Premier travail avec des données</a></li>
                  <li><a href="extensions.html">Extensions (installation, mise à jour)</a></li>
                  <li><a href="introduction-au-tidyverse.html">Introduction au <strong>tidyverse</strong></a></li>
                  <li><a href="vecteurs-indexation-et-assignation.html">Vecteurs, indexation et assignation</a></li>
                  <li><a href="listes-et-tableaux-de-donnes.html">Listes et Tableaux de données</a></li>
                  <li><a href="facteurs-et-vecteurs-labellises.html">Facteurs et vecteurs labellisés</a></li>
                  <li><a href="organiser-ses-fichiers.html">Organiser ses fichiers</a></li>
                  <li><a href="import-de-donnees.html">Import de données</a></li>
                  <li><a href="ou-trouver-de-l-aide.html">Où trouver de l'aide ?</a></li>
  	            </ul>
              </div>
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
  		            <li class="dropdown-header">Manipulation de données</li>
  		            <li><a href="visualiser-ses-donnees.html">Visualiser ses données</a></li>
  		            <li><a href="recodage.html">Recodage de variables</a></li>
                  <li><a href="manipuler-les-donnees-avec-dplyr.html">Manipuler les données avec <strong>dplyr</strong></a></li>
                  <li><a href="manipulations-avancees-avec-data-table.html">Manipulations avancées avec <strong>data.table</strong></a></li>
                  <li><a href="tris.html">Tris</a></li>
                  <li><a href="sous-ensembles.html">Sous-ensembles</a></li>
                  <li><a href="fusion-de-tables.html">Fusion de tables</a></li>
                  <li><a href="gestion-des-dates.html">Gestion des dates</a></li>
                  <li><a href="fonctions-a-fenetre.html">Fonctions à fenêtre</a></li>
                  <li><a href="manipuler-du-texte.html">Manipuler du texte avec <strong>stringr</strong></a></li>
                  <li><a href="reorganiser-ses-donnees-avec-tidyr.html">Réorganiser ses données avec <strong>tidyr</strong></a></li>
                  <li><a href="scraping.html">Scraping</a></li>
  	            </ul>
              </div>
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
                  <li class="dropdown-header">Exporter</li>
                  <li><a href="export-de-donnees.html">Export de données</a></li>
                  <li><a href="export-de-graphiques.html">Export de graphiques</a></li>
  	            </ul>
              </div>
            </div>
          </ul>
        </li>
        <li class="dropdown">
          <a href="analyser" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Analyser <span class="caret"></span></a>
          <ul class="dropdown-menu multi-column columns-3" role="menu" id="menu_analyser">
            <div class="row">
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
  		            <li class="dropdown-header">Statistiques introductives</li>
                  <li><a href="statistique-univariee.html">Statistique univariée</a></li>
                  <li><a href="statistique-bivariee.html">Statistique bivariée</a></li>
                  <li><a href="intro-ggplot2.html">Introduction à <strong>ggplot2</strong>, la grammaire des graphiques</a></li>
                  <li><a href="graphiques-bivaries-ggplot2.html">Graphiques univariés et bivariés avec <strong>ggplot2</strong></a></li>
                  <li><a href="donnees-ponderees.html">Données pondérées</a></li>
  	            </ul>
              </div>
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
  		            <li class="dropdown-header">Statistiques intermédiaires</li>
  		            <li><a href="intervalles-de-confiance.html">Intervalles de confiance</a></li>
                  <li><a href="comparaisons-moyennes-et-proportions.html">Comparaisons (moyennes et proportions)</a></li>
                  <li><a href="definir-un-plan-d-echantillonnage-complexe.html">Définir un plan d'échantillonnage complexe</a></li>
                  <li><a href="regression-lineaire.html">Régression linéaire</a></li>
                  <li><a href="regression-logistique.html">Régression logistique binaire, multinomiale et ordinale</a></li>
                  <li><a href="analyse-des-correspondances-multiples.html">Analyse des correspondances multiples (ACM)</a></li>
                  <li><a href="classification-ascendante-hierarchique.html">Classification ascendante hiérarchique (CAH)</a></li>
  	            </ul>
              </div>
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
                  <li class="dropdown-header">Statistiques avancées</li>
                  <li><a href="effets-d-interaction.html">Effets d'interaction dans un modèle</a></li>
                  <li><a href="multicolinearite.html">Multicolinéarité dans la régression</a></li>
                  <li><a href="analyse-de-survie.html">Analyse de survie</a></li>
                  <li><a href="analyse-de-sequences.html">Analyse de séquences</a></li>
                  <!--<li><a href="modeles-a-effets-aleatoires.html">Modèles à effets aléatoires (modèles mixtes et GEE)</a></li>-->
                  <li><a href="trajectoires-de-soins.html">Trajectoires de soins&nbsp;: un exemple de données longitudinales</a></li>
                  <li><a href="analyse-de-reseaux.html">Analyse de réseaux</a></li>
                  <li><a href="analyse-spatiale.html">Analyse spatiale</a></li>
  	            </ul>
              </div>
            </div>
          </ul>
        </li>
        <li class="dropdown">
          <a href="approfondir" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Approfondir <span class="caret"></span></a>
          <ul class="dropdown-menu multi-column columns-3" role="menu" id="menu_approfondir">
            <div class="row">
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
  		            <li class="dropdown-header">Graphiques</li>
                  <li><a href="ggplot2.html"><strong>ggplot2</strong> et la grammaire des graphiques</a></li>
                  <li><a href="etendre-ggplot2.html">Étendre ggplot2</a></li>
                  <li><a href="combiner-plusieurs-graphiques.html">Combiner plusieurs graphiques</a></li>
                  <li><a href="graphiques-interactifs.html">Graphiques interactifs</a></li>
                  <li><a href="lattice-graphiques-et-formules.html"><strong>lattice</strong> : graphiques et formules</a></li>
                  <li><a href="cartes.html">Cartes</a></li>
  	            </ul>
              </div>
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
  		            <li class="dropdown-header">Programmation</li>
  		            <li><a href="conditions-et-comparaisons.html">Conditions et comparaisons</a></li>
                  <li><a href="formules.html">Formules</a></li>
                  <li><a href="structures-conditionnelles.html">Structures conditionnelles</a></li>
                  <li><a href="vectorisation.html">Vectorisation</a></li>
                  <li><a href="expressions-regulieres.html">Expressions régulières</a></li>
                  <!--<li class="dev"><a href="ecrire-ses-propres-fonctions.html">Écrire ses propres fonctions</a></li>-->
                  <li><a href="rmarkdown-les-rapports-automatises.html"><strong>R Markdown</strong> : les rapports automatisés</a></li>
  	            </ul>
              </div>
              <div class="col-sm-4">
  	            <ul class="multi-column-dropdown">
                  <li class="dropdown-header">Divers</li>
                  <li><a href="formater-nombres.html">Mettre en forme des nombres</a></li>
                  <li><a href="couleurs.html">Couleurs et Palettes</a></li>
                  <li><a href="annotations-mathematiques.html">Annotations mathématiques</a></li>
                  <li><a href="calculer-un-age.html">Calculer un âge</a></li>
                  <li><a href="diagramme-de-lexis.html">Diagramme de Lexis</a></li>
  	            </ul>
              </div>
            </div>
          </ul>
        </li>
        <li class="dropdown">
          <a href="index" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Index <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu" id="menu_naviguer">
            <li><a href="index-des-concepts.html">Index des concepts</a></li>
            <li><a href="index-des-fonctions.html">Index des fonctions</a></li>
            <li><a href="index-des-extensions.html">Index des extensions</a></li>
          </ul>
        </li>
        <li><a href="analyse-R.pdf">PDF</a></li>
        <!--<li><a href="https://github.com/larmarange/analyse-R">GitHub</a></li>-->
      </ul>
    <form id="rechercher" class="navbar-form navbar-right" role="search" style="padding-top: 5px;" method="get" action="https://duckduckgo.com/">
      <div class="form-group">
        <input name="q" type="text" class="form-control input-sm" placeholder="Rechercher">
      </div>
      <button type="submit" class="btn btn-default btn-sm" name="Rechercher">
        <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
      </button>
    </form>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->
</nav>

<div class="row">

<div class="visible-lg">
<a href="https://github.com/larmarange/analyse-R"><img style="position: absolute; top: 60px; left: 40px; border: 0;" src="./images/fork_me.png" alt="Contribuer sur GitHub"></a>
</div>

<div class="col-sm-9" role="main">
<article>

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Formules</h1>

</div>

<div id="TOC">
<ul>
<li><a href="#statistiques-descriptives">Statistiques descriptives</a><ul>
<li><a href="#tableaux-croises-avec-xtabs">Tableaux croisés avec xtabs</a></li>
<li><a href="#statistiques-bivariees-avec-aggregate">Statistiques bivariées avec aggregate</a></li>
</ul></li>
<li><a href="#panels-graphiques-avec-lattice">Panels graphiques avec lattice</a><ul>
<li><a href="#visualisation-bivariee">Visualisation bivariée</a></li>
<li><a href="#visualisation-par-petits-multiples">Visualisation par <q>petits multiples</q></a></li>
</ul></li>
<li><a href="#specifier-des-modeles">Spécifier des modèles</a><ul>
<li><a href="#les-formules-r">Les formules R</a></li>
</ul></li>
<li><a href="#pour-aller-plus-loin">Pour aller plus loin</a></li>
</ul>
</div>

<p>Ce chapitre vise à illustrer l’utilisation de la <dfn>notation <q>formule</q></dfn> de <strong>R</strong>, qui désigne l’emploi de cette notation par l’expression <code data-pkg="stats">formula</code>. Cette notation est utilisée par de très nombreuses fonctions de <strong>R</strong> : on en a notamment vu plusieurs exemples dans le <a href="graphiques-bivaries.html">chapitre sur les graphiques bivariés</a>, car l’extension <code class="pkg">ggplot2</code> se sert de cette notation dans ses paramètres <code data-pkg="ggplot2">facet_wrap</code> et <code data-pkg="ggplot2">facet_grid</code>.</p>
<p>Dans ce chapitre, on verra comment se servir de la notation <q>formule</q> dans deux contextes différents. D’une part, on verra que deux fonctions basiques de <strong>R</strong> se servent de cette notation pour produire des tableaux croisés et des statistiques bivariées. D’autre part, on verra que l’extension <code class="pkg">lattice</code> se sert de cette notation pour créer des graphiques <q>panelisés</q>, dits graphiques à <q>petits multiples</q>.</p>
<p>Dans plusieurs autres chapitres, les opérations décrites ci-dessus sont effectuées avec les extensions <code class="pkg">dplyr</code> d’une part, et <code class="pkg">ggplot2</code> d’autre part. On se servira également de ces extensions dans ce chapitre, de manière à mener une comparaison des différentes manières d’effectuer certaines opérations dans <strong>R</strong>, avec ou sans la notation <q>formule</q> :</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">library</span>(ggplot2)</a></code></pre></div>
<div id="statistiques-descriptives" class="section level2">
<h2>Statistiques descriptives</h2>
<p>Les premiers exemples de ce chapitre montrent l’utilisation de cette notation pour produire des tableaux croisés et des statistiques descriptives. Le jeu de données utilisé, <code data-pkg="questionr">hdv2003</code>, a déjà été utilisé dans plusieurs chapitres, et font partie de l’extension <code class="pkg">questionr</code>. Chargeons cette extension et le jeu de données <code data-pkg="questionr">hdv2003</code> :</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">library</span>(questionr)</a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw">data</span>(hdv2003)</a></code></pre></div>
<p>Pour rappel, ce jeu de données contient des individus, leur âge, leur statut professionnel, et le nombre d’heures quotidiennes passées à regarder la télévision.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">glimpse</span>(hdv2003, <span class="dv">75</span>)</a></code></pre></div>
<pre><code>Observations: 2,000
Variables: 20
$ id            &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 1...
$ age           &lt;int&gt; 28, 23, 59, 34, 71, 35, 60, 47, 20, 28, 65, 47, ...
$ sexe          &lt;fct&gt; Femme, Femme, Homme, Homme, Femme, Femme, Femme,...
$ nivetud       &lt;fct&gt; &quot;Enseignement superieur y compris technique supe...
$ poids         &lt;dbl&gt; 2634.3982, 9738.3958, 3994.1025, 5731.6615, 4329...
$ occup         &lt;fct&gt; &quot;Exerce une profession&quot;, &quot;Etudiant, eleve&quot;, &quot;Exe...
$ qualif        &lt;fct&gt; Employe, NA, Technicien, Technicien, Employe, Em...
$ freres.soeurs &lt;int&gt; 8, 2, 2, 1, 0, 5, 1, 5, 4, 2, 3, 4, 1, 5, 2, 3, ...
$ clso          &lt;fct&gt; Oui, Oui, Non, Non, Oui, Non, Oui, Non, Oui, Non...
$ relig         &lt;fct&gt; Ni croyance ni appartenance, Ni croyance ni appa...
$ trav.imp      &lt;fct&gt; Peu important, NA, Aussi important que le reste,...
$ trav.satisf   &lt;fct&gt; Insatisfaction, NA, Equilibre, Satisfaction, NA,...
$ hard.rock     &lt;fct&gt; Non, Non, Non, Non, Non, Non, Non, Non, Non, Non...
$ lecture.bd    &lt;fct&gt; Non, Non, Non, Non, Non, Non, Non, Non, Non, Non...
$ peche.chasse  &lt;fct&gt; Non, Non, Non, Non, Non, Non, Oui, Oui, Non, Non...
$ cuisine       &lt;fct&gt; Oui, Non, Non, Oui, Non, Non, Oui, Oui, Non, Non...
$ bricol        &lt;fct&gt; Non, Non, Non, Oui, Non, Non, Non, Oui, Non, Non...
$ cinema        &lt;fct&gt; Non, Oui, Non, Oui, Non, Oui, Non, Non, Oui, Oui...
$ sport         &lt;fct&gt; Non, Oui, Oui, Oui, Non, Oui, Non, Non, Non, Oui...
$ heures.tv     &lt;dbl&gt; 0.0, 1.0, 0.0, 2.0, 3.0, 2.0, 2.9, 1.0, 2.0, 2.0...</code></pre>
<div id="tableaux-croises-avec-xtabs" class="section level3">
<h3>Tableaux croisés avec xtabs</h3>
<p>Utilisons, pour ce premier exemple, la variable <var>occup</var> du jeu de données <code data-pkg="questionr">hdv2003</code>, qui correspond au statut professionnel des individus inclus dans l’échantillon. La fonction de base pour compter les individus par statut est la fonction <code data-pkg="base">table</code> :</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">table</span>(hdv2003<span class="op">$</span>occup)</a></code></pre></div>
<pre><code>
Exerce une profession               Chomeur 
                 1049                   134 
      Etudiant, eleve              Retraite 
                   94                   392 
  Retire des affaires              Au foyer 
                   77                   171 
        Autre inactif 
                   83 </code></pre>
<p>Avec la fonction <code data-pkg="stats">xtabs</code>, le même résultat est produit à partir de la notation suivante :</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">xtabs</span>(<span class="op">~</span>occup, <span class="dt">data =</span> hdv2003)</a></code></pre></div>
<pre><code>occup
Exerce une profession               Chomeur 
                 1049                   134 
      Etudiant, eleve              Retraite 
                   94                   392 
  Retire des affaires              Au foyer 
                   77                   171 
        Autre inactif 
                   83 </code></pre>
<p>Le premier argument est une formule, au sens où <strong>R</strong> entend cette expression. Le second argument, <code>data</code>, correspond au jeu de données auquel la formule doit être appliquée. On pourra se passer d’écrire explicitement cet argument dans les exemples suivants.</p>
<p>L’avantage de la fonction <code data-pkg="stats">xtabs</code> n’est pas évident dans ce premier exemple. En réalité, cette fonction devient utile lorsque l’on souhaite construire un ou plusieurs tableau(x) croisé(s). Par exemple, pour croiser la variable <var>occup</var> avec la variable <var>sexe</var>, une solution constiste à écrire :</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">with</span>(hdv2003, <span class="kw">table</span>(occup, sexe))</a></code></pre></div>
<pre><code>                       sexe
occup                   Homme Femme
  Exerce une profession   520   529
  Chomeur                  54    80
  Etudiant, eleve          48    46
  Retraite                208   184
  Retire des affaires      39    38
  Au foyer                  0   171
  Autre inactif            30    53</code></pre>
<p>Ou alors, ce qui revient au même :</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1"><span class="kw">table</span>(hdv2003<span class="op">$</span>occup, hdv2003<span class="op">$</span>sexe)</a></code></pre></div>
<p>Avec <code data-pkg="stats">xtabs</code>, la même opération s’écrit de la manière suivante :</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1"><span class="kw">xtabs</span>(<span class="op">~</span>occup <span class="op">+</span><span class="st"> </span>sexe, hdv2003)</a></code></pre></div>
<pre><code>                       sexe
occup                   Homme Femme
  Exerce une profession   520   529
  Chomeur                  54    80
  Etudiant, eleve          48    46
  Retraite                208   184
  Retire des affaires      39    38
  Au foyer                  0   171
  Autre inactif            30    53</code></pre>
<p>Cette écriture est plus courte que le code équivalent dans <code class="pkg">dplyr</code> :</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1"><span class="kw">group_by</span>(hdv2003, occup) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb14-2" title="2"><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">Homme =</span> <span class="kw">sum</span>(sexe <span class="op">==</span><span class="st"> &quot;Homme&quot;</span>),</a>
<a class="sourceLine" id="cb14-3" title="3">            <span class="dt">Femme =</span> <span class="kw">sum</span>(sexe <span class="op">==</span><span class="st"> &quot;Femme&quot;</span>))</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["occup"],"name":[1],"type":["fctr"],"align":["left"]},{"label":["Homme"],"name":[2],"type":["int"],"align":["right"]},{"label":["Femme"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"Exerce une profession","2":"520","3":"529"},{"1":"Chomeur","2":"54","3":"80"},{"1":"Etudiant, eleve","2":"48","3":"46"},{"1":"Retraite","2":"208","3":"184"},{"1":"Retire des affaires","2":"39","3":"38"},{"1":"Au foyer","2":"0","3":"171"},{"1":"Autre inactif","2":"30","3":"53"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>De plus, <code data-pkg="stats">xtabs</code> permet de créer plusieurs tableaux croisés en une seule formule :</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1"><span class="kw">xtabs</span>(<span class="op">~</span>occup <span class="op">+</span><span class="st"> </span>sexe <span class="op">+</span><span class="st"> </span>trav.imp, hdv2003)</a></code></pre></div>
<pre><code>, , trav.imp = Le plus important

                       sexe
occup                   Homme Femme
  Exerce une profession    13    16
  Chomeur                   0     0
  Etudiant, eleve           0     0
  Retraite                  0     0
  Retire des affaires       0     0
  Au foyer                  0     0
  Autre inactif             0     0

, , trav.imp = Aussi important que le reste

                       sexe
occup                   Homme Femme
  Exerce une profession   159   100
  Chomeur                   0     0
  Etudiant, eleve           0     0
  Retraite                  0     0
  Retire des affaires       0     0
  Au foyer                  0     0
  Autre inactif             0     0

, , trav.imp = Moins important que le reste

                       sexe
occup                   Homme Femme
  Exerce une profession   328   380
  Chomeur                   0     0
  Etudiant, eleve           0     0
  Retraite                  0     0
  Retire des affaires       0     0
  Au foyer                  0     0
  Autre inactif             0     0

, , trav.imp = Peu important

                       sexe
occup                   Homme Femme
  Exerce une profession    20    32
  Chomeur                   0     0
  Etudiant, eleve           0     0
  Retraite                  0     0
  Retire des affaires       0     0
  Au foyer                  0     0
  Autre inactif             0     0</code></pre>
<p>Cet exemple permet simplement de réaliser que la variable <var>trav.imp</var>, qui contient les réponses à une question portant sur l’importance du travail, n’a été mesurée (c’est-à-dire que la question n’a été posée) qu’aux seuls individus actifs de l’échantillon.</p>
</div>
<div id="statistiques-bivariees-avec-aggregate" class="section level3">
<h3>Statistiques bivariées avec aggregate</h3>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" title="1"><span class="kw">aggregate</span>(heures.tv <span class="op">~</span><span class="st"> </span>sexe, mean, <span class="dt">data =</span> hdv2003)</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["sexe"],"name":[1],"type":["fctr"],"align":["left"]},{"label":["heures.tv"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"Homme","2":"2.219330"},{"1":"Femme","2":"2.268727"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Ici, le premier argument est à nouveau une formule. Le second argument correspond à la statistique descriptive que l’on souhaite obtenir, et le dernier argument indique le jeu de données auquel appliquer les deux autres arguments. On peut d’ailleurs obtenir le même résultat en respectant de manière plus stricte l’ordre des arguments dans la syntaxe de la fonction <code data-pkg="stats">aggregate</code> :</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" title="1"><span class="kw">aggregate</span>(heures.tv <span class="op">~</span><span class="st"> </span>sexe, hdv2003, mean)</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["sexe"],"name":[1],"type":["fctr"],"align":["left"]},{"label":["heures.tv"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"Homme","2":"2.219330"},{"1":"Femme","2":"2.268727"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Cette écriture est, à nouveau, plus compacte que le code équivalent dans <code class="pkg">dplyr</code>, qui demande de spécifier le retrait des valeurs manquantes :</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" title="1"><span class="kw">group_by</span>(hdv2003, sexe) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb19-2" title="2"><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">heures.tv =</span> <span class="kw">mean</span>(heures.tv, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>))</a></code></pre></div>
<p>À nouveau, on va pouvoir combiner plusieurs variables dans la formule que l’on passe à <code data-pkg="stats">aggregate</code>, ce qui va permettre d’obtenir la moyenne des heures de télévision quotidiennes par sexe et par statut professionnel :</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" title="1"><span class="kw">aggregate</span>(heures.tv <span class="op">~</span><span class="st"> </span>sexe <span class="op">+</span><span class="st"> </span>occup, hdv2003, mean)</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["sexe"],"name":[1],"type":["fctr"],"align":["left"]},{"label":["occup"],"name":[2],"type":["fctr"],"align":["left"]},{"label":["heures.tv"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"Homme","2":"Exerce une profession","3":"1.920463"},{"1":"Femme","2":"Exerce une profession","3":"1.724953"},{"1":"Homme","2":"Chomeur","3":"2.853846"},{"1":"Femme","2":"Chomeur","3":"2.888608"},{"1":"Homme","2":"Etudiant, eleve","3":"1.400000"},{"1":"Femme","2":"Etudiant, eleve","3":"1.256522"},{"1":"Homme","2":"Retraite","3":"2.826442"},{"1":"Femme","2":"Retraite","3":"2.877174"},{"1":"Homme","2":"Retire des affaires","3":"2.410256"},{"1":"Femme","2":"Retire des affaires","3":"2.844737"},{"1":"Femme","2":"Au foyer","3":"2.822222"},{"1":"Homme","2":"Autre inactif","3":"3.133333"},{"1":"Femme","2":"Autre inactif","3":"3.339623"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>La même opération demanderait toujours un peu plus de code avec <code class="pkg">dplyr</code> :</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" title="1"><span class="kw">group_by</span>(hdv2003, occup, sexe) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb21-2" title="2"><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">heures.tv =</span> <span class="kw">mean</span>(heures.tv, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>))</a></code></pre></div>
<p>La fonction <code data-pkg="stats">aggregate</code> permet bien sûr d’utiliser une autre fonction que la moyenne, comme dans cet exemple, suivi de son équivalent avec <code class="pkg">dplyr</code> :</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" title="1"><span class="co"># âge médian par sexe et statut professionnel</span></a>
<a class="sourceLine" id="cb22-2" title="2"><span class="kw">aggregate</span>(age <span class="op">~</span><span class="st"> </span>sexe <span class="op">+</span><span class="st"> </span>occup, hdv2003, median)</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["sexe"],"name":[1],"type":["fctr"],"align":["left"]},{"label":["occup"],"name":[2],"type":["fctr"],"align":["left"]},{"label":["age"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"Homme","2":"Exerce une profession","3":"42.0"},{"1":"Femme","2":"Exerce une profession","3":"41.0"},{"1":"Homme","2":"Chomeur","3":"35.5"},{"1":"Femme","2":"Chomeur","3":"40.0"},{"1":"Homme","2":"Etudiant, eleve","3":"20.0"},{"1":"Femme","2":"Etudiant, eleve","3":"20.5"},{"1":"Homme","2":"Retraite","3":"68.0"},{"1":"Femme","2":"Retraite","3":"69.0"},{"1":"Homme","2":"Retire des affaires","3":"70.0"},{"1":"Femme","2":"Retire des affaires","3":"74.0"},{"1":"Femme","2":"Au foyer","3":"51.0"},{"1":"Homme","2":"Autre inactif","3":"56.0"},{"1":"Femme","2":"Autre inactif","3":"58.0"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" title="1"><span class="co"># code équivalent avec l&#39;extension &#39;dplyr&#39;</span></a>
<a class="sourceLine" id="cb23-2" title="2"><span class="kw">group_by</span>(hdv2003, occup, sexe) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb23-3" title="3"><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">age =</span> <span class="kw">median</span>(age, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>))</a></code></pre></div>
<p>Si, comme dans le cas de <code data-pkg="dplyr">summarise</code>, on souhaite passer des arguments supplémentaires à la fonction <code data-pkg="stats">median</code>, il suffit de les lister à la suite du nom de la fonction. Par exemple, on écrirait : <code>aggregate(age ~ sexe + occup, hdv2003, median, na.rm = TRUE)</code>. Ceci étant, <code data-pkg="stats">aggregate</code> utilise par défaut l’option <code>na.action = na.omit</code>, donc il est bon de se rappeler que l’on peut désactiver cette option en utilisant l’option <code>na.action = na.pass</code>, ce qui permet éventuellement de conserver des lignes vides dans le tableau de résultat.</p>
<p>La fonction <code data-pkg="stats">aggregate</code> permet, par ailleurs, d’obtenir des résultats à plusieurs colonnes. Dans l’exemple ci-dessus, on illustre ce principe avec la fonction <code data-pkg="stats">range</code>, qui renvoie deux résultats (la valeur minimale et la valeur maximale de la variable, qui est toujours la variable <var>age</var>), chacun présentés dans une colonne :</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" title="1"><span class="kw">aggregate</span>(age <span class="op">~</span><span class="st"> </span>sexe <span class="op">+</span><span class="st"> </span>occup, hdv2003, range)</a></code></pre></div>
<pre><code>    sexe                 occup age.1 age.2
1  Homme Exerce une profession    18    63
2  Femme Exerce une profession    18    67
3  Homme               Chomeur    18    63
4  Femme               Chomeur    18    63
5  Homme       Etudiant, eleve    18    34
6  Femme       Etudiant, eleve    18    35
7  Homme              Retraite    48    92
8  Femme              Retraite    41    96
9  Homme   Retire des affaires    57    91
10 Femme   Retire des affaires    57    93
11 Femme              Au foyer    22    90
12 Homme         Autre inactif    39    71
13 Femme         Autre inactif    19    97</code></pre>
<p>Cette fonction ne peut pas être facilement écrite dans <code class="pkg">dplyr</code> sans réécrire chacune des colonnes, ce que le bloc de code suivant illustre. On y gagne en lisibilité dans les intitulés de colonnes :</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" title="1"><span class="kw">group_by</span>(hdv2003, occup, sexe) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb26-2" title="2"><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">min =</span> <span class="kw">min</span>(age, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),</a>
<a class="sourceLine" id="cb26-3" title="3">            <span class="dt">max =</span> <span class="kw">max</span>(age, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>))</a></code></pre></div>
<p>On pourrait de même définir sa propre fonction et la passer à <code data-pkg="stats">aggregate</code> :</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" title="1">f &lt;-<span class="st"> </span><span class="cf">function</span>(x) <span class="kw">c</span>(<span class="dt">mean =</span> <span class="kw">mean</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>), <span class="dt">sd =</span> <span class="kw">sd</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>))</a>
<a class="sourceLine" id="cb27-2" title="2"><span class="kw">aggregate</span>(age <span class="op">~</span><span class="st"> </span>sexe <span class="op">+</span><span class="st"> </span>occup, hdv2003, f)</a></code></pre></div>
<pre><code>    sexe                 occup  age.mean    age.sd
1  Homme Exerce une profession 41.461538 10.438113
2  Femme Exerce une profession 40.710775 10.203864
3  Homme               Chomeur 38.925926 13.256329
4  Femme               Chomeur 38.012500 11.648321
5  Homme       Etudiant, eleve 20.895833  2.926326
6  Femme       Etudiant, eleve 21.586957  3.249452
7  Homme              Retraite 68.418269  8.018882
8  Femme              Retraite 69.510870  8.228957
9  Homme   Retire des affaires 71.179487  7.687556
10 Femme   Retire des affaires 73.789474  7.651737
11 Femme              Au foyer 50.730994 15.458412
12 Homme         Autre inactif 54.166667  6.597196
13 Femme         Autre inactif 59.962264 14.660206</code></pre>
<p>Mais on réalisera vite une des limitations de <code data-pkg="stats">aggregate</code> dans ce cas-là : le tableau retourné ne contient pas 4 colonnes, mais 3 uniquement, ce que l’on peut vérifier à l’aide de <code data-pkg="base">dim</code> ou <code data-pkg="utils">str</code>.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" title="1"><span class="kw">str</span>(<span class="kw">aggregate</span>(age <span class="op">~</span><span class="st"> </span>sexe <span class="op">+</span><span class="st"> </span>occup, hdv2003, f))</a></code></pre></div>
<pre><code>&#39;data.frame&#39;:   13 obs. of  3 variables:
 $ sexe : Factor w/ 2 levels &quot;Homme&quot;,&quot;Femme&quot;: 1 2 1 2 1 2 1 2 1 2 ...
 $ occup: Factor w/ 7 levels &quot;Exerce une profession&quot;,..: 1 1 2 2 3 3 4 4 5 5 ...
 $ age  : num [1:13, 1:2] 41.5 40.7 38.9 38 20.9 ...
  ..- attr(*, &quot;dimnames&quot;)=List of 2
  .. ..$ : NULL
  .. ..$ : chr  &quot;mean&quot; &quot;sd&quot;</code></pre>
<p>Pour ce type d’opération, dans lequel on souhaite récupérer plusieurs variables calculées afin de travailler sur ces données agrégées soit dans le cadre d’opérations numériques soit de constructions graphiques, <code class="pkg">dplyr</code> ou <code class="pkg">Hmisc</code> s’avèrent plus commodes. Voici un exemple avec <code data-pkg="Hmisc">summarize</code> de l’extension <code class="pkg">Hmisc</code> :</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" title="1"><span class="kw">library</span>(Hmisc, <span class="dt">quietly =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb31-2" title="2"><span class="kw">with</span>(hdv2003, <span class="kw">summarize</span>(age, <span class="kw">llist</span>(sexe, occup), f))</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["sexe"],"name":[1],"type":["S3: labelled"],"align":["right"]},{"label":["occup"],"name":[2],"type":["S3: labelled"],"align":["right"]},{"label":["age"],"name":[3],"type":["S3: labelled"],"align":["right"]},{"label":["sd"],"name":[4],"type":["S3: labelled"],"align":["right"]}],"data":[{"1":"Homme","2":"Exerce une profession","3":"41.46154","4":"10.438113","_rn_":"11"},{"1":"Homme","2":"Chomeur","3":"38.92593","4":"13.256329","_rn_":"9"},{"1":"Homme","2":"Etudiant, eleve","3":"20.89583","4":"2.926326","_rn_":"10"},{"1":"Homme","2":"Retraite","3":"68.41827","4":"8.018882","_rn_":"13"},{"1":"Homme","2":"Retire des affaires","3":"71.17949","4":"7.687556","_rn_":"12"},{"1":"Homme","2":"Autre inactif","3":"54.16667","4":"6.597196","_rn_":"8"},{"1":"Femme","2":"Exerce une profession","3":"40.71078","4":"10.203864","_rn_":"5"},{"1":"Femme","2":"Chomeur","3":"38.01250","4":"11.648321","_rn_":"3"},{"1":"Femme","2":"Etudiant, eleve","3":"21.58696","4":"3.249452","_rn_":"4"},{"1":"Femme","2":"Retraite","3":"69.51087","4":"8.228957","_rn_":"7"},{"1":"Femme","2":"Retire des affaires","3":"73.78947","4":"7.651737","_rn_":"6"},{"1":"Femme","2":"Au foyer","3":"50.73099","4":"15.458412","_rn_":"1"},{"1":"Femme","2":"Autre inactif","3":"59.96226","4":"14.660206","_rn_":"2"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Notons que <code class="pkg">Hmisc</code> offre déjà une telle fonction (<code data-pkg="Hmisc">smean.sd</code>), ce qui nous aurait épargné d’écrire notre propre fonction, <code>f</code>, et il en existe bien d’autres. Voici un exemple avec des intervalles de confiance estimés par bootstrap :</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" title="1"><span class="kw">with</span>(hdv2003, <span class="kw">summarize</span>(age, <span class="kw">llist</span>(sexe, occup), smean.cl.boot))</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["sexe"],"name":[1],"type":["S3: labelled"],"align":["right"]},{"label":["occup"],"name":[2],"type":["S3: labelled"],"align":["right"]},{"label":["age"],"name":[3],"type":["S3: labelled"],"align":["right"]},{"label":["Lower"],"name":[4],"type":["S3: labelled"],"align":["right"]},{"label":["Upper"],"name":[5],"type":["S3: labelled"],"align":["right"]}],"data":[{"1":"Homme","2":"Exerce une profession","3":"41.46154","4":"40.60159","5":"42.35034","_rn_":"11"},{"1":"Homme","2":"Chomeur","3":"38.92593","4":"35.57361","5":"42.24167","_rn_":"9"},{"1":"Homme","2":"Etudiant, eleve","3":"20.89583","4":"20.12500","5":"21.81250","_rn_":"10"},{"1":"Homme","2":"Retraite","3":"68.41827","4":"67.41346","5":"69.46683","_rn_":"13"},{"1":"Homme","2":"Retire des affaires","3":"71.17949","4":"68.76923","5":"73.48718","_rn_":"12"},{"1":"Homme","2":"Autre inactif","3":"54.16667","4":"51.76583","5":"56.40000","_rn_":"8"},{"1":"Femme","2":"Exerce une profession","3":"40.71078","4":"39.85813","5":"41.58998","_rn_":"5"},{"1":"Femme","2":"Chomeur","3":"38.01250","4":"35.54937","5":"40.45000","_rn_":"3"},{"1":"Femme","2":"Etudiant, eleve","3":"21.58696","4":"20.78261","5":"22.60870","_rn_":"4"},{"1":"Femme","2":"Retraite","3":"69.51087","4":"68.26073","5":"70.77717","_rn_":"7"},{"1":"Femme","2":"Retire des affaires","3":"73.78947","4":"71.50000","5":"76.05263","_rn_":"6"},{"1":"Femme","2":"Au foyer","3":"50.73099","4":"48.44971","5":"53.08889","_rn_":"1"},{"1":"Femme","2":"Autre inactif","3":"59.96226","4":"56.13208","5":"64.00047","_rn_":"2"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Enfin, il est également possible d’utiliser plusieurs variables numériques à gauche de l’opérateur <code>~</code>. En voici une illustration :</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" title="1"><span class="kw">aggregate</span>(<span class="kw">cbind</span>(age, poids) <span class="op">~</span><span class="st"> </span>sexe <span class="op">+</span><span class="st"> </span>occup, hdv2003, mean)</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["sexe"],"name":[1],"type":["fctr"],"align":["left"]},{"label":["occup"],"name":[2],"type":["fctr"],"align":["left"]},{"label":["age"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["poids"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"Homme","2":"Exerce une profession","3":"41.46154","4":"5989.928"},{"1":"Femme","2":"Exerce une profession","3":"40.71078","4":"5186.020"},{"1":"Homme","2":"Chomeur","3":"38.92593","4":"4334.421"},{"1":"Femme","2":"Chomeur","3":"38.01250","4":"4168.980"},{"1":"Homme","2":"Etudiant, eleve","3":"20.89583","4":"8712.073"},{"1":"Femme","2":"Etudiant, eleve","3":"21.58696","4":"6809.416"},{"1":"Homme","2":"Retraite","3":"68.41827","4":"4459.116"},{"1":"Femme","2":"Retraite","3":"69.51087","4":"5195.785"},{"1":"Homme","2":"Retire des affaires","3":"71.17949","4":"8786.239"},{"1":"Femme","2":"Retire des affaires","3":"73.78947","4":"10314.848"},{"1":"Femme","2":"Au foyer","3":"50.73099","4":"5471.705"},{"1":"Homme","2":"Autre inactif","3":"54.16667","4":"3740.738"},{"1":"Femme","2":"Autre inactif","3":"59.96226","4":"4679.955"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div id="panels-graphiques-avec-lattice" class="section level2">
<h2>Panels graphiques avec lattice</h2>
<p>Les exemples suivants montreront ensuite comment la notation <q>formule</q> peut servir à produire des graphiques par panel avec l’extension <code class="pkg">lattice</code>.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" title="1"><span class="kw">library</span>(lattice)</a></code></pre></div>
<div class="note">
<p>L’extension <code class="pkg">lattice</code> présente l’avantage d’être installée par défaut avec <strong>R</strong>. Il n’est donc pas nécessaire de l’installer préalablement.</p>
</div>
<p>Chargeons les mêmes données que le <a href="graphiques-bivaries.html">chapitre sur les graphiques bivariés</a>.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" title="1"><span class="co"># charger l&#39;extension lisant le format CSV</span></a>
<a class="sourceLine" id="cb35-2" title="2"><span class="kw">library</span>(readr)</a>
<a class="sourceLine" id="cb35-3" title="3"></a>
<a class="sourceLine" id="cb35-4" title="4"><span class="co"># emplacement souhaité pour le jeu de données</span></a>
<a class="sourceLine" id="cb35-5" title="5">file =<span class="st"> &quot;data/debt.csv&quot;</span></a>
<a class="sourceLine" id="cb35-6" title="6"></a>
<a class="sourceLine" id="cb35-7" title="7"><span class="co"># télécharger le jeu de données s&#39;il n&#39;existe pas</span></a>
<a class="sourceLine" id="cb35-8" title="8"><span class="cf">if</span>(<span class="op">!</span><span class="kw">file.exists</span>(file))</a>
<a class="sourceLine" id="cb35-9" title="9">  <span class="kw">download.file</span>(<span class="st">&quot;http://www.stat.cmu.edu/~cshalizi/uADA/13/hw/11/debt.csv&quot;</span>,</a>
<a class="sourceLine" id="cb35-10" title="10">                file, <span class="dt">mode =</span> <span class="st">&quot;wb&quot;</span>)</a>
<a class="sourceLine" id="cb35-11" title="11"></a>
<a class="sourceLine" id="cb35-12" title="12"><span class="co"># charger les données dans l&#39;objet &#39;debt&#39;</span></a>
<a class="sourceLine" id="cb35-13" title="13">debt =<span class="st"> </span><span class="kw">read_csv</span>(file)</a></code></pre></div>
<pre><code>Warning: Missing column names filled in: &#39;X1&#39; [1]</code></pre>
<pre><code>Parsed with column specification:
cols(
  X1 = col_double(),
  Country = col_character(),
  Year = col_double(),
  growth = col_double(),
  ratio = col_double()
)</code></pre>
<p>Rejetons rapidement un coup d’oeil à ces données, qui sont structurées par pays (variable <var>Country</var>) et par année (variable <var>Year</var>). On y trouve deux variables, <var>growth</var> (le taux de croissance du produit intérieur brut réel), et <var>ratio</var> (le ratio entre la dette publique et le produit intérieur brut), ainsi qu’une première colonne vide, ne contenant que des numéros lignes, dont on va se débarrasser :</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" title="1"><span class="co"># inspection des données</span></a>
<a class="sourceLine" id="cb38-2" title="2"><span class="kw">glimpse</span>(debt, <span class="dv">75</span>)</a></code></pre></div>
<pre><code>Observations: 1,171
Variables: 5
$ X1      &lt;dbl&gt; 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157,...
$ Country &lt;chr&gt; &quot;Australia&quot;, &quot;Australia&quot;, &quot;Australia&quot;, &quot;Australia&quot;, &quot;A...
$ Year    &lt;dbl&gt; 1946, 1947, 1948, 1949, 1950, 1951, 1952, 1953, 1954, ...
$ growth  &lt;dbl&gt; -3.5579515, 2.4594746, 6.4375341, 6.6119938, 6.9202012...
$ ratio   &lt;dbl&gt; 190.41908, 177.32137, 148.92981, 125.82870, 109.80940,...</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" title="1"><span class="co"># suppression de la première colonne</span></a>
<a class="sourceLine" id="cb40-2" title="2">debt =<span class="st"> </span>debt[, <span class="dv">-1</span>]</a></code></pre></div>
<div id="visualisation-bivariee" class="section level3">
<h3>Visualisation bivariée</h3>
<p>Le même graphique s’écrit de la manière suivante avec l’extension <code class="pkg">lattice</code> :</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" title="1"><span class="kw">xyplot</span>(growth <span class="op">~</span><span class="st"> </span>Year, <span class="dt">data =</span> debt)</a></code></pre></div>
<p><img src="graphs/formules/unnamed-chunk-28-1.png" width="1050" /></p>
</div>
<div id="visualisation-par-petits-multiples" class="section level3">
<h3>Visualisation par <q>petits multiples</q></h3>
<p>Appliquons désormais la même visualisation par <q>petits multiples</q> que vue dans le chapitre :</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" title="1"><span class="kw">xyplot</span>(growth <span class="op">~</span><span class="st"> </span>Year <span class="op">|</span><span class="st"> </span>Country, <span class="dt">data =</span> debt)</a></code></pre></div>
<p><img src="graphs/formules/unnamed-chunk-29-1.png" width="1050" /></p>
<p>Enfin, rajoutons quelques options au graphique, afin de montrer comment l’extension <code class="pkg">lattice</code> fonctionne :</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" title="1"><span class="kw">xyplot</span>(growth <span class="op">~</span><span class="st"> </span>Year <span class="op">|</span><span class="st"> </span>Country, <span class="dt">type =</span> <span class="kw">c</span>(<span class="st">&quot;o&quot;</span>, <span class="st">&quot;l&quot;</span>), <span class="dt">main =</span> <span class="st">&quot;Données Reinhart et Rogoff corrigées, 1946-2009&quot;</span>, </a>
<a class="sourceLine" id="cb43-2" title="2">  <span class="dt">ylab =</span> <span class="st">&quot;Taux de croissance du PIB&quot;</span>, <span class="dt">xlab =</span> <span class="ot">NULL</span>, <span class="dt">data =</span> debt)</a></code></pre></div>
<p><img src="graphs/formules/unnamed-chunk-30-1.png" width="1050" /></p>
</div>
</div>
<div id="specifier-des-modeles" class="section level2">
<h2>Spécifier des modèles</h2>
<div id="les-formules-r" class="section level3">
<h3>Les formules R</h3>
<p>En réalité, la notation par formule qu’utilise <strong>R</strong> est celle proposée par Wilkinson <em>et al.</em> dans les années 70 pour schématiser la relation entre plusieurs variables dans un plan d’expérience. Plus spécifiquement, l’idée revient à exprimer une <dfn>relation <q>fonctionnelle</q></dfn>, symbolisée par l’opérateur <code>~</code>, entre une variable réponse <code>y</code> et une ou plusieurs variables explicatives. Disons, pour simplifier, que <code>y</code> est une variable d’intérêt (numérique ou facteur selon le type de modèle), <code>x</code> une variable numérique et que <code>a</code> et <code>b</code> sont des variables catégorielles (des facteurs dans le langage <strong>R</strong>). Voici les principales relations auxquelles on peut s’intéresser dans un modèle statistique :</p>
<ul>
<li><code>y ~ x</code> : régression simple,</li>
<li><code>y ~ x + 0</code> : idem avec suppression du terme d’ordonnée à l’origine,</li>
<li><code>y ~ a + b</code> : régresse avec deux effets principaux indépendants,</li>
<li><code>y ~ a * b</code> : idem avec interaction (équivalent à <code>1 + a + b + a:b</code>),</li>
<li><code>y ~ a / b</code> : idem en considérant une relation d’emboîtement (équivalent à <code>1 + a + b + a %in% b</code>).</li>
</ul>
<p>L’opérateur <code>|</code> est quant à lui utilisé par l’extension <code class="pkg">lme4</code> dans le cadre de modèles mixtes avec effets aléatoires.</p>
<p>Voir le chapitre dédié à la <a href="regression-logistique.html">régression logistique</a> pour des exemples de modèles multivariés et le chapitre dédié aux <a href="effets-d-interaction.html">effets d’interaction</a> pour plus de détails sur cette notion.</p>
</div>
</div>
<div id="pour-aller-plus-loin" class="section level2">
<h2>Pour aller plus loin</h2>
<p>Comme vient de le voir dans ce chapitre, la notation <q>formule</q> apparaît çà et là dans les différentes fonctions de <strong>R</strong> est de ses extensions. Il est par conséquent utile d’en connaître les rudiments, et en particulier les opérateurs <code>~</code> (<em>tilde</em>) et <code>+</code>, ne serait-ce que pour pouvoir se servir des différentes fonctions présentées sur cette page. Le chapitre <a href="lattice-graphiques-et-formules.html">lattice et les formules</a> fournit plus de détails sur ces aspects.</p>
<p>La notation <q>formule</q> devient cruciale dès que l’on souhaite rédiger des modèles : la formule <code>y ~ x</code>, par exemple, qui est équivalente à la formule <code>y ~ 1 + x</code>, correspond à l’équation mathématique <span class="math inline"><em>Y</em> = <em>a</em> + <em>b</em><em>X</em></span>. On trouvera de nombreux exemples d’usage de cette notation dans les chapitres consacrés, notamment, à la régression linéaire ou à la <a href="regression-logistique.html">régression logistique</a>.</p>
<p>De la même manière, l’opérateur <code>|</code> (<em>pipe</em>) utilisé par l’extension <code class="pkg">lattice</code> joue aussi un rôle très important dans la rédaction de modèles multi-niveaux, où il sert à indiquer les variables à pentes ou à coefficients aléatoires. Ces modèles sont présentés dans un <a href="modeles-lineaires-a-effets-mixtes.html">chapitre dédié</a>.</p>
</div>

</article>
</div>

<div class="col-sm-3" role="complementary">
<nav class="hidden-print hidden-xs" id="nav_sidebar">
</nav>
</div>

</div>

<script>
// manage active state of menu based on current page
$(document).ready(function () {

    // active menu
    href = window.location.pathname;
    href = href.substr(href.lastIndexOf('/') + 1);
    if (href=='') href = 'index.html';
    $('a[href="' + href + '"]').parent().addClass('active');
    $('a[href="' + href + '"]').parent().parents('li').addClass('active');

    // élargir la page d'accueil
    if (href=='index.html') $('.col-sm-9').attr('class','col-sm-12');

    // rechercher
    $("#rechercher").submit(function(event) {
      $('input[name="q"]').val($('input[name="q"]').val() + ' site:larmarange.github.io/analyse-R');
    });

    // sidebar
    $("#nav_sidebar").append($("#TOC").html());
    $("#nav_sidebar ul").addClass("nav nav-stacked");
    $("#TOC").addClass("visible-xs-block");
    $('body').scrollspy({
      target: '#nav_sidebar',
      offset: 40
    });

    // Identifier les <pre> fermant
    $('pre').next("*:not(pre)").prev().addClass('last'); // Dernier <pre> de chaque groupe contigu de <pre>
    $('pre').parent().each(function (){
      $(this).children('pre').last().addClass('last');
    }); // Si <pre> est le dernier enfant de son parent

    // Ajout liens rdocumentation et tooltip
    $("code[data-pkg]").each(function( index ) {
      pkg = $(this).attr('data-pkg');
      if ($(this).attr('data-rdoc') !== undefined) {
        rdocumentation = $(this).attr('data-rdoc');
      } else {
        rdocumentation = $(this).text();
      }
      fonction = $(this).text();
      //$(this).wrap('<a href="http://www.rdocumentation.org/packages/'+pkg+'/functions/'+rdocumentation+'">');
      $(this).wrap('<a href="http://rdrr.io/pkg/'+pkg+'/sym/'+rdocumentation+'">');
      $(this).attr('data-toggle','tooltip');
      $(this).attr('data-placement','top');
      $(this).attr('title','package : ' + pkg);
      $('[data-toggle="tooltip"]').tooltip();
    });

    $("code.pkg").each(function( index ) {
      //$(this).wrap('<a href="http://www.rdocumentation.org/packages/'+$(this).text()+'">');
      $(this).wrap('<a href="http://rdrr.io/pkg/'+$(this).text()+'">');
    });

    // Figures
    $("figure").each(function( index ) {
      if ($(this).children("figcaption").length > 0)
        $(this).children("figcaption:first").prepend('<span class="figure-number">Figure '+(index+1)+'.</span> ');
      else
        $(this).append($("<figcaption>").append('<span class="figure-number">Figure '+(index+1)+'</span>'));
    });

    // Colorbox

    /*----
    jQuery('article div img').colorbox({
      maxWidth: '90%',
      maxHeight: '90%',
      rel: 'figures',
      current: "",
      href: function(){
        return $(this).attr('src');
      },
      title: function(){
        return $(this).attr('alt');
      }
    });
    jQuery('article div img').css('cursor', 'pointer');
    jQuery('figure img').colorbox({
      maxWidth: '90%',
      maxHeight: '90%',
      rel: 'figures',
      current: "",
      href: function(){
        return $(this).attr('src');
      },
      title: function(){
        return $(this).parent().children("figcaption").text();
      }
    });
    jQuery('figure img').css('cursor', 'pointer');

    -----*/

    /* Clipboard --------------------------*/

  function changeTooltipMessage(element, msg) {
    var tooltipOriginalTitle=element.getAttribute('data-original-title');
    element.setAttribute('data-original-title', msg);
    $(element).tooltip('show');
    element.setAttribute('data-original-title', tooltipOriginalTitle);
  }

  if(ClipboardJS.isSupported()) {
    $(document).ready(function() {
      var copyButton = "<button type='button' class='btn btn-primary btn-copy-ex' type = 'submit' title='Copier dans le presse-papier' aria-label='Copier dans le presse-papier' data-toggle='tooltip' data-placement='left auto' data-trigger='hover' data-clipboard-copy><i class='fa fa-copy'></i></button>";

      $(".examples, div.sourceCode").addClass("hasCopyButton");

      // Insert copy buttons:
      $(copyButton).prependTo(".hasCopyButton");

      // Initialize tooltips:
      $('.btn-copy-ex').tooltip({container: 'body'});

      // Initialize clipboard:
      var clipboardBtnCopies = new ClipboardJS('[data-clipboard-copy]', {
        text: function(trigger) {
          return trigger.parentNode.textContent;
        }
      });

      clipboardBtnCopies.on('success', function(e) {
        changeTooltipMessage(e.trigger, 'Copié !');
        e.clearSelection();
      });

      clipboardBtnCopies.on('error', function() {
        changeTooltipMessage(e.trigger,'Appuyez sur Ctrl+C ou Command+C pour copier');
      });
    });
  }

  // Bigfoot
  $(".footnotes > li").addClass("footnote");
  $.bigfoot({
    activateOnHover: true,
    actionOriginalFN: "ignore"
});
});
</script>

<!-- Utterances comments --->
<script src="https://utteranc.es/client.js"
        repo="larmarange/analyse-R"
        issue-term="pathname"
        label="commentaires"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>

<!-- disqus -->
<!---
<div class="row">
  <div id="disqus_thread" class="col-sm-9" role="complementary"></div>
</div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'analyse-r'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Veuillez activer JavaScript pour voir les <a href="http://disqus.com/?ref_noscript">les commentaires gérés avec Disqus.</a></noscript>
    <!--<a href="http://disqus.com" class="dsq-brlink">Les commentaires sont hébergés par <span class="logo-disqus">Disqus</span>.</a>-->

<footer>
  <div class="row">
    <div class="col-lg-12">
      <p>Contenus sous licence <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/fr/" rel="nofollow">Creative Commons Attribution - Pas d’utilisation commerciale - Partage dans les mêmes conditions</a>.<br />
      Propulsé par <a href="http://www.r-project.org/" rel="nofollow">R</a>, </a><a href="http://www.rstudio.com/" rel="nofollow">RStudio</a>, <a href="http://rmarkdown.rstudio.com/" rel="nofollow">R Markdown</a>, <a href="http://yihui.name/knitr/" rel="nofollow">knitr</a>, <a href="http://pandoc.org/" rel="nofollow">pandoc</a> et <a href="http://www.princexml.com/" rel="nofollow">Prince XML</a>. Hébergé par <a href="https://github.com/" rel="nofollow">GitHub</a>.<br />
      <a href="https://www.zenodo.org/badge/latestdoi/34986666"><img src="https://www.zenodo.org/badge/34986666.svg" alt="DOI"></a></p>
    </div>
  </div>
</footer>



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>


</body>
</html>
